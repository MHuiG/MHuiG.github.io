"use strict";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==_typeof(r)?r:r+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regenerator(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,n,a,o){var s=n&&n.prototype instanceof i?n:i,u=Object.create(s.prototype);return _regeneratorDefine2(u,"_invoke",function(t,n,a){var o,i,s,u=0,l=a||[],f=!1,p={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(r,t){return o=r,i=0,s=e,p.n=t,c}};function g(t,n){for(i=t,s=n,r=0;!f&&u&&!a&&r<l.length;r++){var a,o=l[r],g=p.p,h=o[2];t>3?(a=h===n)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=g&&((a=t<2&&g<o[1])?(i=0,p.v=n,p.n=o[1]):g<h&&(a=t<3||o[0]>n||n>h)&&(o[4]=t,o[5]=n,p.n=h,i=0))}if(a||t>1)return c;throw f=!0,n}return function(a,l,h){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&g(l,h),i=l,s=h;(r=i<2?e:s)||!f;){o||(i?i<3?(i>1&&(p.n=-1),g(i,s)):p.n=s:p.v=s);try{if(u=2,o){if(i||(a="next"),r=o[a]){if(!(r=r.call(o,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,i<2&&(i=0)}else 1===i&&(r=o["return"])&&r.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((r=(f=p.n<0)?s:t.call(n,p))!==c)break}catch(r){o=e,i=1,s=r}finally{u=1}}return{value:r,done:f}}}(t,a,o),!0),u}var c={};function i(){}function s(){}function u(){}r=Object.getPrototypeOf;var l=[][n]?r(r([][n]())):(_regeneratorDefine2(r={},n,(function(){return this})),r),f=u.prototype=i.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,_regeneratorDefine2(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=u,_regeneratorDefine2(f,"constructor",u),_regeneratorDefine2(u,"constructor",s),s.displayName="GeneratorFunction",_regeneratorDefine2(u,a,"GeneratorFunction"),_regeneratorDefine2(f),_regeneratorDefine2(f,a,"Generator"),_regeneratorDefine2(f,n,(function(){return this})),_regeneratorDefine2(f,"toString",(function(){return"[object Generator]"})),(_regenerator=function(){return{w:o,m:p}})()}function _regeneratorDefine2(e,r,t,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}_regeneratorDefine2=function(e,r,t,n){function o(r,t){_regeneratorDefine2(e,r,(function(e){return this._invoke(r,t,e)}))}r?a?a(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,r,t,n)}function asyncGeneratorStep(e,r,t,n,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void t(e)}i.done?r(s):Promise.resolve(s).then(n,a)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function c(e){asyncGeneratorStep(o,n,a,c,i,"next",e)}function i(e){asyncGeneratorStep(o,n,a,c,i,"throw",e)}c(void 0)}))}}function _asyncIterator(e){var r,t,n,a=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(t&&null!=(r=e[t]))return r.call(e);if(n&&null!=(r=e[n]))return new AsyncFromSyncIterator(r.call(e));t="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function r(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var r=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:r}}))}return AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},"return":function(e){var t=this.s["return"];return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},"throw":function(e){var t=this.s["return"];return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}var prefix="MHuiG-Blog",cacheSuffixVersion="00000020-0.6044090698328041",CACHE_NAME=prefix+"-v"+cacheSuffixVersion,PreCachlist=["/css/style.css","/js/app.js","/js/search/hexo.js"],npm_package_name="@mhg/blog",npm_package_version="1.0.1763522074841",status_npm_mirror=!0,status_npm_tarball=!0,debug=!1;"localhost"==location.hostname&&(debug=!0)&&(status_npm_mirror=!1);var tarball="https://registry.npmjs.org/@mhg/blog/-/blog-".concat(npm_package_version,".tgz"),cors_anywhere="https://cors.mhuig.top?url=",uuid=null,setUUID=function(e){return uuid||(uuid=e),uuid},handleFetch=function(){var e=_asyncToGenerator(_regenerator().m((function r(e){var t,n;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:if(t=e.request,n=e.request.url,"GET"===t.method){r.n=1;break}return r.a(2,fetch(t));case 1:if(!/nocache/.test(n)){r.n=2;break}return r.a(2,NetworkOnly(e));case 2:if(!/cdn-cgi/.test(n)){r.n=3;break}return r.a(2,NetworkOnly(e));case 3:if(!/vues/.test(n)){r.n=4;break}return r.a(2,NetworkOnly(e));case 4:if(!/api\.mhuig\.top/.test(n)){r.n=5;break}return r.a(2,NetworkOnly(e));case 5:if(!/captcha/.test(n)){r.n=6;break}return r.a(2,NetworkOnly(e));case 6:if(!/token/.test(n)){r.n=7;break}return r.a(2,NetworkOnly(e));case 7:if(!/music-Archive/.test(n)){r.n=8;break}return r.a(2,OnlyCacheAlways(e));case 8:if(!/@latest/.test(n)){r.n=9;break}return r.a(2,CacheFirst(e));case 9:if(!/cdn\.bootcdn\.net/.test(n)){r.n=10;break}return r.a(2,CacheAlways(e));case 10:if(!/lib\.baomitu\.com/.test(n)){r.n=11;break}return r.a(2,CacheAlways(e));case 11:if(!/cdnjs\.cloudflare\.com/.test(n)){r.n=12;break}return r.a(2,CacheAlways(e));case 12:if(!/music\.126\.net/.test(n)){r.n=13;break}return r.a(2,CacheAlways(e));case 13:if(!/qqmusic\.qq\.com/.test(n)){r.n=14;break}return r.a(2,CacheAlways(e));case 14:if(!/jsdelivr\.net/.test(n)){r.n=15;break}return r.a(2,CacheAlways(e));case 15:if(!/static\.mhuig\.top/.test(n)){r.n=16;break}return r.a(2,CacheAlways(e));case 16:if(!/npm\.elemecdn\.com/.test(n)){r.n=17;break}return r.a(2,CacheAlways(e));case 17:if(!/unpkg\.com/.test(n)){r.n=18;break}return r.a(2,CacheAlways(e));case 18:if(!/.*\.(?:png|jpg|jpeg|svg|gif|webp|ico|eot|ttf|woff|woff2|mp3|pdf)$/.test(n)){r.n=19;break}return r.a(2,CacheAlways(e));case 19:if(!/.*\.(css|js)$/.test(n)){r.n=20;break}return r.a(2,CacheAlways(e));case 20:return r.a(2,CacheFirst(e));case 21:return r.a(2)}}),r)})));return function(r){return e.apply(this,arguments)}}(),cdn={gh:{jsdelivr:"https://cdn.jsdelivr.net/gh",fastly:"https://fastly.jsdelivr.net/gh",gcore:"https://gcore.jsdelivr.net/gh",testingcf:"https://testingcf.jsdelivr.net/gh",test1:"https://test1.jsdelivr.net/gh",mhuig:"https://static.mhuig.top/gh"},combine:{jsdelivr:"https://cdn.jsdelivr.net/combine",fastly:"https://fastly.jsdelivr.net/combine",gcore:"https://gcore.jsdelivr.net/combine",testingcf:"https://testingcf.jsdelivr.net/combine",test1:"https://test1.jsdelivr.net/combine"},npm:{jsdelivr:"https://cdn.jsdelivr.net/npm",fastly:"https://fastly.jsdelivr.net/npm",gcore:"https://gcore.jsdelivr.net/npm",testingcf:"https://testingcf.jsdelivr.net/npm",test1:"https://test1.jsdelivr.net/npm",unpkg:"https://unpkg.com",eleme:"https://npm.elemecdn.com",mhuig:"https://static.mhuig.top/npm"},cdnjs:{cdnjs:"https://cdnjs.cloudflare.com/ajax/libs",baomitu:"https://lib.baomitu.com",bootcdn:"https://cdn.bootcdn.net/ajax/libs",sustech:"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs",mhuig:"https://static.mhuig.top/ajax/libs"}},cdn_match_list=[];for(var type in cdn)for(var key in cdn[type])cdn_match_list.push({type,key:cdn[type][key]});self.db={read:function(e,r){return r||(r={type:"text"}),new Promise((function(r,t){caches.open(prefix).then((function(t){t.match(new Request("https://LOCALCACHE/".concat(encodeURIComponent(e)))).then((function(e){e||r(null),e.text().then((function(e){return r(e)}))}))["catch"]((function(){r(null)}))}))}))},write:function(e,r){return new Promise((function(t,n){caches.open(prefix).then((function(n){n.put(new Request("https://LOCALCACHE/".concat(encodeURIComponent(e))),new Response(r)),t()}))["catch"]((function(){n()}))}))}};var _console=console,color={black:"#000000",red:"#FF0000",green:"#008000",yellow:"#FFFF00",blue:"#0000FF",magenta:"#FF00FF",cyan:"#00FFFF",white:"#FFFFFF"},add=function(){for(var e=[[]],r=0;r<arguments.length;r++){var t=_toArray(r<0||arguments.length<=r?undefined:arguments[r]),n=t[0],a=_arrayLikeToArray(t).slice(1);e[0]+=n,e=e.concat(a)}return e},createlog=function(e){return function(){for(var r="error"==e?_console[e]:_console.log,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];r.apply(void 0,n)}},creategroup=function(e){return function(){for(var e=_console.groupCollapsed,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];e.apply(void 0,t)}},colorUtils={bold:function(e){if("string"==typeof e||"number"==typeof e)return"".concat(e,";font-weight: bold;");for(var r=1;r<e.length;r++)e[r]+=";font-weight: bold;";return e}},colorHash={log:"black",wait:"cyan",error:"red",warn:"yellow",ready:"green",info:"blue",event:"magenta"},createChalk=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];if("object"!==_typeof(t[0])){var a=t;"string"!=typeof t&&"number"!=typeof t||(a=colorUtils[colorHash[e]](t)),createlog(e).apply(void 0,_toConsumableArray(add(colorUtils.bold(colorUtils[colorHash[e]]("[".concat(firstToUpperCase(e),"] "))),a)))}else createlog(e).apply(void 0,_toConsumableArray(add.apply(void 0,[colorUtils.bold(colorUtils[colorHash[e]]("[".concat(firstToUpperCase(e),"] ")))].concat(t))))}},createChalkBg=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];if("object"!==_typeof(t[0])){var a=t;"string"!=typeof t&&"number"!=typeof t||(a=colorUtils[colorHash[e]](t)),createlog(e).apply(void 0,_toConsumableArray(add(colorUtils.bold(colorUtils["bg".concat(firstToUpperCase(colorHash[e]))]("[".concat(firstToUpperCase(e),"] "))),a)))}else createlog(e).apply(void 0,_toConsumableArray(add.apply(void 0,[colorUtils.bold(colorUtils["bg".concat(firstToUpperCase(colorHash[e]))]("[".concat(firstToUpperCase(e),"] ")))].concat(t))))}},createChalkGroup=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];if("object"!==_typeof(t[0])){var a=t;"string"!=typeof t&&"number"!=typeof t||(a=colorUtils[colorHash[e]](t)),creategroup(e).apply(void 0,_toConsumableArray(add(colorUtils.bold(colorUtils[colorHash[e]]("[".concat(firstToUpperCase(e),"] "))),a)))}else creategroup(e).apply(void 0,_toConsumableArray(add.apply(void 0,[colorUtils.bold(colorUtils[colorHash[e]]("[".concat(firstToUpperCase(e),"] ")))].concat(t))))}},chalk={group:{end:_console.groupEnd},bg:{}};Object.keys(colorHash).forEach((function(e){chalk[e]=createChalk(e),chalk.group[e]=createChalkGroup(e),chalk.bg[e]=createChalkBg(e)}));var firstToUpperCase=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))};Object.keys(color).forEach((function(e){colorUtils[e]=function(r){if("string"==typeof r||"number"==typeof r)return["%c".concat(r),"color:".concat(color[e])];for(var t=1;t<r.length;t++)r[t]+=";color:".concat(color[e]);return r},colorUtils["bg".concat(firstToUpperCase(e))]=function(r){if("string"==typeof r||"number"==typeof r)return["%c".concat(r),"padding: 2px 4px; border-radius: 3px; color: ".concat("white"===e?"#000":"#fff","; font-weight: bold; background:").concat(color[e],";")];for(var t=1;t<r.length;t++)r[t]+=";padding: 2px 4px; border-radius: 3px; font-weight: bold; background:".concat(color[e],";");return r}})),self.logger=_objectSpread(_objectSpread({add},chalk),colorUtils),debug||(logger={log:function(){},wait:function(){},error:function(){},warn:function(){},ready:function(){},info:function(){},event:function(){},group:{log:function(){},wait:function(){},error:function(){},warn:function(){},ready:function(){},info:function(){},event:function(){},end:function(){}},bg:{log:function(){},wait:function(){},error:function(){},warn:function(){},ready:function(){},info:function(){},event:function(){}}},console.log=function(){});var generate_uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=16*Math.random()|0;return("x"==e?r:3&r|8).toString(16)}))},compareVersion=function(e,r){for(var t=e.split("."),n=r.split("."),a=Math.max(t.length,n.length);t.length<a;)t.push("0");for(;n.length<a;)n.push("0");for(var o=0;o<a;o++){var c=parseInt(t[o]),i=parseInt(n[o]);if(c>i)return e;if(c<i)return r}return e},mirrors=[cors_anywhere+"https://registry.npmjs.org/".concat(npm_package_name,"/latest?nocache"),cors_anywhere+"https://registry.npmmirror.com/".concat(npm_package_name,"/latest?nocache"),cors_anywhere+"https://mirrors.cloud.tencent.com/npm/".concat(npm_package_name,"/latest?nocache")],getLocalVersion=function(){var e=_asyncToGenerator(_regenerator().m((function r(){var e;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:return r.n=1,db.read("npm_package_version");case 1:if(e=r.v){r.n=2;break}e=npm_package_version;case 2:npm_package_version=e,logger.bg.info("Local Version: ".concat(npm_package_name,"@").concat(npm_package_version));case 3:return r.a(2)}}),r)})));return function(){return e.apply(this,arguments)}}(),mirror_time=0,setNewestVersion=function(){var e=_asyncToGenerator(_regenerator().m((function r(){var e;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:if(!(mirror_time>6)){r.n=1;break}return r.a(2);case 1:if(status_npm_mirror){r.n=2;break}return r.a(2);case 2:return e=null,e=mirror_time%(mirrors.length+1)?fetch(mirrors[mirror_time%(mirrors.length+1)-1]):FetchEngine(mirrors),mirror_time++,r.a(2,e.then((function(e){return e.json()})).then(function(){var e=_asyncToGenerator(_regenerator().m((function r(e){var t,n;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:if(e.version){r.n=1;break}throw"No Version Found!";case 1:return r.n=2,db.read("npm_package_version");case 2:if(n=r.v){r.n=3;break}n=npm_package_version;case 3:if(t=n,npm_package_version=compareVersion(e.version,t),logger.bg.ready("".concat(npm_package_name,"@").concat(npm_package_version)),t===npm_package_version){r.n=7;break}return r.n=4,db.write("status_npm_mirror","true");case 4:return r.n=5,db.write("status_npm_tarball","false");case 5:return tarball=e.dist.tarball,r.n=6,db.write("tarball",tarball);case 6:logger.bg.ready("[CacheAlways] NPM Mirror Enabled!"),caches["delete"](CACHE_NAME+"-npmtarball"),logger.ready("deleted cache npmtarball");case 7:return r.n=8,getNpmTarball();case 8:return r.n=9,db.write("npm_package_version",npm_package_version);case 9:return r.a(2)}}),r)})));return function(r){return e.apply(this,arguments)}}())["catch"]((function(e){logger.error("[Set Newest Version] "+(e.stack||e))})))}}),r)})));return function(){return e.apply(this,arguments)}}();setInterval(_asyncToGenerator(_regenerator().m((function e(){return _regenerator().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,setNewestVersion();case 1:return e.a(2)}}),e)}))),6e4),setTimeout(_asyncToGenerator(_regenerator().m((function r(){return _regenerator().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,setNewestVersion();case 1:return e.a(2)}}),r)}))),5e3);var installFunction=function(){var e=_asyncToGenerator(_regenerator().m((function r(){return _regenerator().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,getLocalVersion();case 1:return e.a(2,caches.open(CACHE_NAME+"-precache").then(function(){var e=_asyncToGenerator(_regenerator().m((function r(e){var t;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:return r.n=1,db.read("uuid");case 1:if(r.v){r.n=2;break}return r.n=2,db.write("uuid",setUUID(generate_uuid()));case 2:return r.n=3,db.read("status_npm_mirror");case 3:if(r.v){r.n=4;break}return r.n=4,db.write("status_npm_mirror",status_npm_mirror);case 4:return r.n=5,db.read("status_npm_tarball");case 5:if(r.v){r.n=6;break}return r.n=6,db.write("status_npm_tarball","false");case 6:return r.n=7,db.read("tarball");case 7:if(!r.v){r.n=9;break}return r.n=8,db.read("tarball");case 8:tarball=r.v;case 9:return r.n=10,db.write("status_downloading_npm_tarball","false");case 10:return r.n=11,db.write("status_worker_channel","false");case 11:PreCachlist.length&&(logger.group.event("Precaching ".concat(PreCachlist.length," files.")),t=0,PreCachlist.forEach((function(r){e.match(new Request(r)).then((function(n){n?logger.ready("Precaching ".concat(r)):(logger.wait("Precaching ".concat(r)),e.add(new Request(r))),++t===PreCachlist.length&&(logger.ready("Precached ".concat(PreCachlist.length," files.")),logger.group.end())}))})));case 12:return r.a(2)}}),r)})));return function(r){return e.apply(this,arguments)}}())["catch"]((function(e){logger.error("[install] "+(e.stack||e))})))}}),r)})));return function(){return e.apply(this,arguments)}}();self.addEventListener("install",function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)switch(r.n){case 0:logger.bg.event("service worker install event listening");try{self.skipWaiting(),e.waitUntil(installFunction()),logger.bg.ready("service worker install sucess!")}catch(t){logger.error("[install] "+(t.stack||t))}case 1:return r.a(2)}}),r)})));return function(r){return e.apply(this,arguments)}}()),self.addEventListener("activate",function(){var e=_asyncToGenerator(_regenerator().m((function r(e){var t;return _regenerator().w((function(r){for(;;)switch(r.p=r.n){case 0:return logger.bg.event("service worker activate event listening"),r.p=1,e.waitUntil(caches.keys().then((function(e){return Promise.all(e.map((function(e){e.includes(cacheSuffixVersion)||prefix===e||(caches["delete"](e),logger.bg.ready("Deleted Outdated Cache: "+e))})))}))["catch"]((function(e){logger.error("[activate] "+(e.stack||e))}))),r.n=2,self.clients.claim();case 2:logger.bg.ready("service worker activate sucess!"),r.n=4;break;case 3:r.p=3,t=r.v,logger.error("[activate] "+(t.stack||t));case 4:return r.a(2)}}),r,null,[[1,3]])})));return function(r){return e.apply(this,arguments)}}()),self.addEventListener("fetch",function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)switch(r.n){case 0:e.respondWith(handleFetch(e)["catch"]((function(r){logger.error("[fetch] "+e.request.url+"\n[error] "+(r.stack||r))})));case 1:return r.a(2)}}),r)})));return function(r){return e.apply(this,arguments)}}());var NetworkOnly=function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)if(0===r.n)return logger.group.info("NetworkOnly: "+new URL(e.request.url).pathname),logger.wait("service worker fetch: "+e.request.url),logger.group.end(),r.a(2,fetch(e.request))}),r)})));return function(r){return e.apply(this,arguments)}}(),OnlyCacheAlways=function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)if(0===r.n)return r.a(2,caches.match(e.request).then((function(r){return logger.group.info("OnlyCacheAlways: "+new URL(e.request.url).pathname),logger.wait("service worker fetch: "+e.request.url),r?(logger.group.ready("Cache Hit"),console.log(r),logger.group.end(),logger.group.end(),r):(logger.warn("Cache Miss"),logger.group.end(),CacheRuntime(e.request,!1))})))}),r)})));return function(r){return e.apply(this,arguments)}}(),CacheFirst=function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)if(0===r.n)return r.a(2,caches.match(e.request).then(function(){var r=_asyncToGenerator(_regenerator().m((function t(r){var n,a;return _regenerator().w((function(t){for(;;)switch(t.n){case 0:if(logger.group.info("CacheFirst: "+new URL(e.request.url).pathname),logger.wait("service worker fetch: "+e.request.url),!r){t.n=5;break}return logger.group.ready("Cache Hit"),console.log(r),logger.group.end(),logger.group.end(),t.n=1,db.read("status_npm_mirror");case 1:if(a=t.v,!(n="false"===a)){t.n=2;break}n=new RegExp(location.origin).test(e.request.url);case 2:if(!n){t.n=3;break}logger.ready("[CacheAlways] NPM Tarball Source Enabled! NPM Mirror Disabled!"),t.n=4;break;case 3:e.waitUntil(CacheRuntime(e.request));case 4:return t.a(2,r);case 5:return logger.warn("Cache Miss"),logger.group.end(),t.a(2,CacheRuntime(e.request));case 6:return t.a(2)}}),t)})));return function(e){return r.apply(this,arguments)}}()))}),r)})));return function(r){return e.apply(this,arguments)}}(),CacheAlways=function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)if(0===r.n)return r.a(2,caches.match(e.request).then((function(r){return logger.group.info("CacheAlways: "+new URL(e.request.url).pathname),logger.wait("service worker fetch: "+e.request.url),r?(logger.group.ready("Cache Hit"),console.log(r),logger.group.end(),logger.group.end(),r):(logger.warn("Cache Miss"),logger.group.end(),CacheRuntime(e.request))})))}),r)})));return function(r){return e.apply(this,arguments)}}(),matchCache=function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)if(0===r.n)return r.a(2,caches.match(e.request).then((function(r){return logger.group.info("service worker fetch: "+e.request.url),r?(logger.group.ready("Cache Hit"),console.log(r),logger.group.end(),logger.group.end(),r):(logger.warn("Cache Miss"),logger.group.end(),CacheRuntime(e.request))})))}),r)})));return function(r){return e.apply(this,arguments)}}();function CacheRuntime(e){return _CacheRuntime.apply(this,arguments)}function _CacheRuntime(){return _CacheRuntime=_asyncToGenerator(_regenerator().m((function e(r){var t,n,a,o=arguments;return _regenerator().w((function(e){for(;;)switch(e.n){case 0:if(t=!(o.length>1&&o[1]!==undefined)||o[1],n=new URL(r.url),a=null,!t){e.n=2;break}return e.n=1,matchCDN(r);case 1:a=e.v;case 2:if(a){e.n=4;break}return e.n=3,fetch(r)["catch"]((function(){return null}));case 3:a=e.v;case 4:if(logger.group.event("Cache Runtime ".concat(n.pathname)),logger.wait("Caching url: ".concat(r.url)),console.log(a),"GET"!==r.method||"https:"!=n.protocol){e.n=6;break}return e.n=5,caches.open(CACHE_NAME+"-runtime");case 5:e.v.put(r,a.clone())["catch"]((function(e){logger.error("[Cache Runtime] "+(e.stack||e)),"QuotaExceededError"===e.name&&(caches["delete"](CACHE_NAME+"-runtime"),logger.ready("deleted cache"))})),logger.ready("Cached url: ".concat(r.url)),e.n=7;break;case 6:logger.warn("Not Cached url: ".concat(r.url));case 7:return logger.group.end(),e.a(2,a)}}),e)}))),_CacheRuntime.apply(this,arguments)}var matchCDN=function(){var e=_asyncToGenerator(_regenerator().m((function r(e){var t,n,a,o,c,i,s,u,l,f,p,g,h,m,d,y,b,_,v,w,k,C;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:if(t=navigator,n=t.connection||t.mozConnection||t.webkitConnection||{},a=n.saveData,o=n.effectiveType,!a&&!/2g/.test(o)){r.n=1;break}return logger.warn("Slow Network: Transparent Proxy"),r.a(2,fetch(e));case 1:if(c=[],i=new URL(e.url),s=i.pathname.split("/")[1],u="",!(k=status_npm_mirror)){r.n=3;break}return r.n=2,db.read("status_npm_mirror");case 2:C=r.v,k="true"===C;case 3:if(!(w=k)){r.n=4;break}w=new RegExp(location.origin).test(e.url);case 4:if(!w){r.n=5;break}for(l in logger.group.ready("Match NPM Mirror: "+e.url),cdn.npm)f=cdn.npm[l]+"/"+npm_package_name+"@"+npm_package_version+e.url.replace(location.origin,""),f=fullPath(fullPath(f)),console.log(f),c.push(f);logger.group.end();case 5:if(c.length){r.n=9;break}p=0,g=cdn_match_list;case 6:if(!(p<g.length)){r.n=8;break}if(h=g[p],!new RegExp(h.key).test(e.url)){r.n=7;break}return s=h.type,u=new RegExp(h.key).exec(e.url)[0],r.a(3,8);case 7:p++,r.n=6;break;case 8:for(m in cdn)if(m===s){for(d in logger.group.ready("Match CDN ".concat(s,": ")+e.url),cdn[m])y=cdn[m][d]+e.url.replace(u,""),console.log(y),c.push(y);logger.group.end()}case 9:return(b=c.length?FetchEngine(c):fetch(e))&&status_npm_mirror&&new RegExp(location.origin).test(e.url)&&(_=fullPath(fullPath(e.url)).split(".").pop(),v=getContentType(_),b=b.then((function(e){return e.arrayBuffer()})).then((function(e){return new Response(e,{headers:{"Content-Type":v}})}))["catch"]((function(){return null}))),r.a(2,b)}}),r)})));return function(r){return e.apply(this,arguments)}}(),fullPath=function(e){if((e=e.split("?")[0].split("#")[0]).endsWith("/"))e+="index.html";else{var r=e.split("/");-1===r[r.length-1].indexOf(".")&&(e+=".html")}return e};function progress(e){return _progress.apply(this,arguments)}function _progress(){return(_progress=_asyncToGenerator(_regenerator().m((function e(r){var t,n,a;return _regenerator().w((function(e){for(;;)switch(e.n){case 0:return t=Response,e.n=1,r.arrayBuffer();case 1:return n=e.v,a={status:r.status,headers:r.headers},e.a(2,new t(n,a))}}),e)})))).apply(this,arguments)}function createPromiseAny(){Promise.any=function(e){return new Promise((function(r,t){var n=(e=Array.isArray(e)?e:[]).length,a=[];if(0===n)return t(new AggregateError("All promises were rejected"));e.forEach((function(e){e instanceof Promise?e.then((function(e){return r(e)}),(function(e){n--,a.push(e),0===n&&t(new AggregateError(a))})):t(e)}))}))}}function fetchAny(e){var r=new AbortController;return e.map((function(e){return new Promise((function(t,n){fetch(e,{signal:r.signal}).then(progress).then((function(e){r.abort(),200!==e.status?n(null):t(e)}))["catch"]((function(){return n(null)}))}))}))}function fetchParallel(e){var r=new Event("abortOtherInstance"),t=new EventTarget;return e.map(function(){var e=_asyncToGenerator(_regenerator().m((function n(e){var a,o;return _regenerator().w((function(n){for(;;)if(0===n.n)return a=new AbortController,o=!1,t.addEventListener(r.type,(function(){o||a.abort()})),n.a(2,new Promise((function(n,c){fetch(e,{signal:a.signal}).then((function(e){o=!0,t.dispatchEvent(r),200!==e.status?c(null):n(e)}))["catch"]((function(){return c(null)}))})))}),n)})));return function(r){return e.apply(this,arguments)}}())}var FetchEngine=function(e){return Promise.any||createPromiseAny(),Promise.any(fetchParallel(e)).then((function(e){return e}))["catch"]((function(r){return"AggregateError: All promises were rejected"==r?Promise.any(fetchAny(e)).then((function(e){return e}))["catch"]((function(){return null})):null}))},getContentType=function(e){switch(e){case"js":return"text/javascript";case"html":return"text/html";case"css":return"text/css";case"json":case"map":return"application/json";case"webp":return"image/webp";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"xml":case"xsl":return"text/xml";case"webmanifest":return"text/webmanifest";case"bcmap":case"wbmp":return"image/vnd.wap.wbmp";case"bmp":return"image/bmp";case"ico":return"image/vnd.microsoft.icon";case"tiff":case"tif":return"image/tiff";case"svg":case"svgz":return"image/svg+xml";case"woff":return"application/font-woff";case"woff2":return"application/font-woff2";case"ttf":return"application/font-ttf";case"otf":return"application/font-otf";case"eot":return"application/vnd.ms-fontobject";case"zip":return"application/zip";case"tar":return"application/x-tar";case"gz":return"application/gzip";case"bz2":return"application/x-bzip2";case"rar":return"application/x-rar-compressed";case"7z":return"application/x-7z-compressed";case"doc":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"ppt":return"application/vnd.ms-powerpoint";case"pptx":return"application/vnd.openxmlformats-officedocument.presentationml.presentation";case"pdf":return"application/pdf";case"txt":default:return"text/plain";case"rtf":return"application/rtf";case"mp3":return"audio/mpeg";case"wav":return"audio/x-wav";case"ogg":return"audio/ogg";case"mp4":return"video/mp4";case"m4v":return"video/x-m4v";case"mov":return"video/quicktime";case"avi":return"video/x-msvideo";case"wmv":return"video/x-ms-wmv";case"flv":return"video/x-flv";case"swf":return"application/x-shockwave-flash";case"mpg":case"mpeg":case"mpe":case"mpv":case"m2v":return"video/mpeg";case"m4a":return"audio/mp4";case"aac":return"audio/aac";case"m3u":return"audio/x-mpegurl";case"m3u8":return"application/vnd.apple.mpegurl";case"pls":return"audio/x-scpls";case"cue":return"application/x-cue";case"wma":return"audio/x-ms-wma";case"flac":return"audio/flac";case"aif":case"aiff":case"aifc":return"audio/x-aiff";case"au":case"snd":return"audio/basic";case"mid":case"midi":case"kar":return"audio/midi"}},putNpmSource=function(){var e=_asyncToGenerator(_regenerator().m((function r(e,t){var n,a,o,c;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:n=t.name.replace(/^package/,location.origin),a=n.split(".").pop(),o=n.replace(/index.html$/,"").replace(/.html$/,""),c=getContentType(a),e.put(new Request(o),new Response(t.buffer,{headers:{"Content-Type":c}}));case 1:return r.a(2)}}),r)})));return function(r,t){return e.apply(this,arguments)}}();importScripts("/untgz.js");var getNpmTarball=function(){var e=_asyncToGenerator(_regenerator().m((function r(){var e,t;return _regenerator().w((function(r){for(;;)switch(r.n){case 0:if(status_npm_tarball){r.n=1;break}return r.a(2);case 1:return r.n=2,db.read("status_npm_tarball");case 2:if("true"!==r.v){r.n=3;break}return r.a(2);case 3:if(tarball){r.n=4;break}return r.a(2);case 4:return r.n=5,db.read("status_downloading_npm_tarball");case 5:if("true"!==r.v){r.n=6;break}return r.a(2);case 6:return r.n=7,db.write("status_downloading_npm_tarball","true");case 7:logger.wait("Downloading NPM Source: "+tarball),e=tarball.replace("https://registry.npmmirror.com/","https://registry.npmjs.org/"),t=cors_anywhere+e,caches.open(CACHE_NAME+"-npmtarball").then(function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)switch(r.n){case 0:return r.n=1,FetchUntgz(t).then(function(){var r=_asyncToGenerator(_regenerator().m((function t(r){var n,a,o,c,i,s,u;return _regenerator().w((function(t){for(;;)switch(t.p=t.n){case 0:n=!1,a=!1,t.p=1,c=_asyncIterator(r);case 2:return t.n=3,c.next();case 3:if(!(n=!(i=t.v).done)){t.n=5;break}return s=i.value,console.log(s),t.n=4,putNpmSource(e,s);case 4:n=!1,t.n=2;break;case 5:t.n=7;break;case 6:t.p=6,u=t.v,a=!0,o=u;case 7:if(t.p=7,t.p=8,!n||null==c["return"]){t.n=9;break}return t.n=9,c["return"]();case 9:if(t.p=9,!a){t.n=10;break}throw o;case 10:return t.f(9);case 11:return t.f(7);case 12:return t.n=13,db.write("status_npm_mirror","false");case 13:return t.n=14,db.write("status_npm_tarball","true");case 14:return t.n=15,db.write("status_downloading_npm_tarball","false");case 15:logger.bg.ready("[CacheAlways] NPM Mirror Disabled!");case 16:return t.a(2)}}),t,null,[[8,,9,11],[1,6,7,12]])})));return function(e){return r.apply(this,arguments)}}());case 1:return r.a(2)}}),r)})));return function(r){return e.apply(this,arguments)}}())["catch"](function(){var e=_asyncToGenerator(_regenerator().m((function r(e){return _regenerator().w((function(r){for(;;)switch(r.n){case 0:return r.n=1,db.write("status_downloading_npm_tarball","false");case 1:logger.error("[Cache Npm Tarball Source] "+(e.stack||e));case 2:return r.a(2)}}),r)})));return function(r){return e.apply(this,arguments)}}());case 8:return r.a(2)}}),r)})));return function(){return e.apply(this,arguments)}}();
//# sourceMappingURL=maps/jquery.js.map
