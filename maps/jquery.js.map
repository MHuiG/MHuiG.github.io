{"version":3,"sources":["jquery.js"],"names":["prefix","cacheSuffixVersion","CACHE_NAME","PreCachlist","npm_package_name","npm_package_version","status_npm_mirror","status_npm_tarball","debug","location","hostname","tarball","cors_anywhere","wss","status_ws","uuid","zuid","setUUID","id","setZUID","broadcast","BroadcastChannel","onmessage","async","event","data","type","data_","saveWebLog","db","read","generate_uuid","weblog","info","ws","send","JSON","stringify","opt","error","status_worker_channel_interval","setInterval","clearInterval","postMessage","self","init","wsc","WebSocket","onerror","onclose","setTimeout","addEventListener","parse","console","log","code","handleFetch","request","url","method","fetch","test","NetworkOnly","CacheFirst","CacheAlways","cdn","gh","jsdelivr","fastly","gcore","testingcf","test1","mhuig","combine","npm","unpkg","cdn_match_list","key","push","config","Promise","resolve","reject","caches","open","then","cache","match","Request","encodeURIComponent","res","text","catch","write","value","put","Response","_console","color","black","red","green","yellow","blue","magenta","cyan","white","add","arr","fi","length","first","other","concat","createlog","util","args","apply","creategroup","groupCollapsed","colorUtils","bold","str","colorHash","wait","warn","ready","createChalk","name","firstToUpperCase","strArr","createChalkBg","createChalkGroup","chalk","group","end","groupEnd","bg","Object","keys","forEach","toLowerCase","replace","L","toUpperCase","i","logger","c","r","Math","random","toString","compareVersion","a","b","v1","split","v2","len","max","num1","parseInt","num2","mirrors","getLocalVersion","mirror_time","setNewestVersion","f","fetchAny","json","version","localVersion","dist","delete","getNpmTarball","stack","installFunction","index","response","skipWaiting","waitUntil","all","map","includes","clients","claim","respondWith","URL","pathname","resp","RegExp","origin","CacheRuntime","matchCache","matchCDN","protocol","clone","req","nav","navigator","saveData","effectiveType","connection","mozConnection","webkitConnection","urls","urlObj","pathType","fullPath","item","ext","pop","contentType","getContentType","arrayBuffer","buffer","headers","endsWith","list","indexOf","progress","status","createPromiseAny","any","promises","Array","isArray","errs","AggregateError","p","err","controller","AbortController","signal","PromiseAll","abort","putNpmSource","importScripts","tgz","source","FetchUntgz","fs"],"mappings":"AAAA,MAAMA,OAAS,aACTC,mBAAqB,kCACrBC,WAAaF,OAAS,KAAOC,mBAC7BE,YAAc,CAClB,iBACA,aACA,sBAEIC,iBAAmB,YACzB,IAAIC,oBAAsB,oBACtBC,mBAAoB,EACpBC,oBAAqB,EACrBC,OAAQ,EACS,aAArBC,SAASC,WAA4BF,OAAQ,KAAUF,mBAAoB,GAC3E,IAAIK,QAAU,+CAA+CN,0BAC7D,MAAMO,cAAgB,8BAChBC,IAAM,0BACZ,IAAIC,WAAY,EACZC,KAAO,KACPC,KAAO,KAEX,MAAMC,QAAWC,IACVH,OACHA,KAAOG,GAEFH,MAEHI,QAAWD,IACVF,OACHA,KAAOE,GAEFF,MAEHI,UAAY,IAAIC,iBAAiB,kBACvCD,UAAUE,UAAYC,MAAOC,IAC3B,MAAMC,EAAOD,EAAMC,KACbC,EAAOD,EAAKC,KACZC,EAAQF,EAAKA,KACN,QAATC,SACIE,WAAWD,IAGrB,MAAMC,WAAaL,MAAOE,IACxB,IACER,cAAeY,GAAGC,KAAK,SAAWC,iBAjBrBb,QAkBEW,GAAGC,KAAK,SAAWL,EAAKT,KAjBpCA,OACHA,KAAOE,GAiBP,MAAMc,EAAS,CACbd,IAAKH,YAAcc,GAAGC,KAAK,SAAWC,iBAAmB,KAAOf,YAAca,GAAGC,KAAK,SAAWL,EAAKT,MAAQ,WAC9GD,KAAOA,YAAcc,GAAGC,KAAK,SAAWC,gBACxCf,KAAOA,YAAca,GAAGC,KAAK,SAAWL,EAAKT,MAAQ,UACrDiB,KAAMR,GAERS,GAAGC,KAAKC,KAAKC,UAAU,CAAEC,IAAK,SAAUb,KAAMO,KAC9C,MAAOO,IA1BK,IAACrB,GA4BXsB,+BAAiCC,aAAYlB,UAEnC,cADOM,GAAGC,KAAK,yBAE3BY,cAAcF,gCAEdpB,UAAUuB,YAAY,CAAEjB,KAAM,WAE/B,KACHkB,KAAKV,GAAK,CACRW,KAAM,KACJD,KAAKE,IAAM,IAAIC,UAAUlC,KACzBiC,IAAIE,QAAU,OACdF,IAAIG,QAAU,KACZnC,WAAY,EACZoC,YAAW,KACThB,GAAGW,SACF,MAELC,IAAIK,iBAAiB,WAAW5B,MAAOC,IACrC,MAAMC,EAAOW,KAAKgB,MAAM5B,EAAMC,MAC9B4B,QAAQC,IAAI7B,GACK,KAAbA,EAAK8B,OACPzC,WAAY,EACZoC,YAAW,KAAQ9B,UAAUuB,YAAY,CAAEjB,KAAM,UAAY,UAInES,KAAOV,IACAqB,KAAKZ,GAAGW,OACT/B,WACFgC,IAAIX,KAAKV,KAIfS,GAAGW,OACH,MAAMW,YAAcjC,MAAOC,IACzB,MAAMiC,EAAUjC,EAAMiC,QAChBC,EAAMlC,EAAMiC,QAAQC,IAC1B,MAAuB,QAAnBD,EAAQE,OACHC,MAAMH,GAEX,UAAUI,KAAKH,IAER,UAAUG,KAAKH,IAEf,OAAOG,KAAKH,IAEZ,kBAAkBG,KAAKH,IAEvB,UAAUG,KAAKH,IAEf,QAAQG,KAAKH,GATfI,YAAYtC,GAWV,UAAUqC,KAAKH,GACjBK,WAAWvC,GACT,yBAAyBqC,KAAKH,IAE9B,kBAAkBG,KAAKH,IAEvB,mBAAmBG,KAAKH,IAExB,gBAAgBG,KAAKH,IAErB,qBAAqBG,KAAKH,IAE1B,qBAAqBG,KAAKH,IAE1B,aAAaG,KAAKH,IAElB,gEAAgEG,KAAKH,IAErE,gBAAgBG,KAAKH,GAfvBM,YAAYxC,GAkBZuC,WAAWvC,IAGhByC,IAAM,CACVC,GAAI,CACFC,SAAU,8BACVC,OAAQ,iCACRC,MAAO,gCACPC,UAAW,oCACXC,MAAO,gCACPC,MAAO,+BAETC,QAAS,CACPN,SAAU,mCACVC,OAAQ,sCACRC,MAAO,qCACPC,UAAW,yCACXC,MAAO,sCAETG,IAAK,CACHP,SAAU,+BACVC,OAAQ,kCACRC,MAAO,iCACPC,UAAW,qCACXC,MAAO,iCACPI,MAAO,oBACPH,MAAO,iCAGLI,eAAiB,GACvB,IAAK,MAAMlD,KAAQuC,IACjB,IAAK,MAAMY,KAAOZ,IAAIvC,GACpBkD,eAAeE,KAAK,CAAEpD,KAAMA,EAAMmD,IAAKZ,IAAIvC,GAAMmD,KAGrDjC,KAAKf,GAAK,CACRC,KAAM,CAAC+C,EAAKE,KACLA,IAAUA,EAAS,CAAErD,KAAM,SACzB,IAAIsD,SAAQ,CAACC,EAASC,KAC3BC,OAAOC,KAAKpF,QAAQqF,MAAKC,IACvBA,EAAMC,MAAM,IAAIC,QAAQ,sBAAsBC,mBAAmBZ,OAASQ,MAAK,SAAUK,GAClFA,GAAKT,EAAQ,MAClBS,EAAIC,OAAON,MAAKM,GAAQV,EAAQU,QAC/BC,OAAM,KACPX,EAAQ,gBAKhBY,MAAO,CAAChB,EAAKiB,IACJ,IAAId,SAAQ,CAACC,EAASC,KAC3BC,OAAOC,KAAKpF,QAAQqF,MAAK,SAAUC,GACjCA,EAAMS,IAAI,IAAIP,QAAQ,sBAAsBC,mBAAmBZ,MAAS,IAAImB,SAASF,IACrFb,OACCW,OAAM,KACPV,WAKR,MAAMe,SAAW5C,QACX6C,MAAQ,CACZC,MAAO,UACPC,IAAK,UACLC,MAAO,UACPC,OAAQ,UACRC,KAAM,UACNC,QAAS,UACTC,KAAM,UACNC,MAAO,WAEHC,IAAM,IAAIC,KACd,IAAIC,EAAK,CACP,IAEF,IAAK,IAAIhC,EAAM,EAAGA,EAAM+B,EAAIE,OAAQjC,IAAO,CACzC,MAAOkC,KAAUC,GAASJ,EAAI/B,GAC9BgC,EAAG,IAAME,EACTF,EAAKA,EAAGI,OAAOD,GAEjB,OAAOH,GAEHK,UAAaC,GAAS,IAAIC,MAEV,SAARD,EAAkBlB,SAASkB,GAAQlB,SAAS3C,KACpD+D,WAAM,EAAQD,IAEdE,YAAeH,GAAS,IAAIC,KACpBnB,SAASsB,eACjBF,WAAM,EAAQD,IAEdI,WAAa,CACjBC,KAAOC,IACL,GAAmB,iBAARA,GAAmC,iBAARA,EACpC,MAAO,GAAGA,uBAEZ,IAAK,IAAI7C,EAAM,EAAGA,EAAM6C,EAAIZ,OAAQjC,IAClC6C,EAAI7C,IAAQ,sBAEd,OAAO6C,IAGLC,UAAY,CAChBrE,IAAK,QACLsE,KAAM,OACNrF,MAAO,MACPsF,KAAM,SACNC,MAAO,QACP7F,KAAM,OACNT,MAAO,WAEHuG,YAAeC,GAAS,IAAIN,KAChC,GAAsB,iBAAXA,EAAI,GAEb,YADAR,UAAUc,EAAVd,IAAmBP,IAAIa,WAAWC,KAAKD,WAAWG,UAAUK,IAAO,IAAIC,iBAAiBD,YAAgBN,IAG1G,IAAIQ,EAASR,EACM,iBAARA,GAAmC,iBAARA,IACpCQ,EAASV,WAAWG,UAAUK,IAAON,IAEvCR,UAAUc,EAAVd,IAAmBP,IAAIa,WAAWC,KAAKD,WAAWG,UAAUK,IAAO,IAAIC,iBAAiBD,SAAaE,KAEjGC,cAAiBH,GAAS,IAAIN,KAClC,GAAsB,iBAAXA,EAAI,GAEb,YADAR,UAAUc,EAAVd,IAAmBP,IAAIa,WAAWC,KAAKD,WAAW,KAAKS,iBAAiBN,UAAUK,OAAU,IAAIC,iBAAiBD,YAAgBN,IAGnI,IAAIQ,EAASR,EACM,iBAARA,GAAmC,iBAARA,IACpCQ,EAASV,WAAWG,UAAUK,IAAON,IAEvCR,UAAUc,EAAVd,IAAmBP,IAAIa,WAAWC,KAAKD,WAAW,KAAKS,iBAAiBN,UAAUK,OAAU,IAAIC,iBAAiBD,SAAaE,KAE1HE,iBAAoBJ,GAAS,IAAIN,KACrC,GAAsB,iBAAXA,EAAI,GAEb,YADAJ,aAAAA,IAAqBX,IAAIa,WAAWC,KAAKD,WAAWG,UAAUK,IAAO,IAAIC,iBAAiBD,YAAgBN,IAG5G,IAAIQ,EAASR,EACM,iBAARA,GAAmC,iBAARA,IACpCQ,EAASV,WAAWG,UAAUK,IAAON,IAEvCJ,aAAAA,IAAqBX,IAAIa,WAAWC,KAAKD,WAAWG,UAAUK,IAAO,IAAIC,iBAAiBD,SAAaE,KAEnGG,MAAQ,CACZC,MAAO,CACLC,IAAKtC,SAASuC,UAEhBC,GAAI,IAENC,OAAOC,KAAKhB,WAAWiB,SAAQ/D,IAvCX,IAACmD,EAwCnBK,MAAMxD,IAxCamD,EAwCMnD,EAxCG,IAAI6C,KAChC,GAAsB,iBAAXA,EAAI,GAEb,YADAR,UAAUc,EAAVd,IAAmBP,IAAIa,WAAWC,KAAKD,WAAWG,UAAUK,IAAO,IAAIC,iBAAiBD,YAAgBN,IAG1G,IAAIQ,EAASR,EACM,iBAARA,GAAmC,iBAARA,IACpCQ,EAASV,WAAWG,UAAUK,IAAON,IAEvCR,UAAUc,EAAVd,IAAmBP,IAAIa,WAAWC,KAAKD,WAAWG,UAAUK,IAAO,IAAIC,iBAAiBD,SAAaE,MAgCrGG,MAAMC,MAAMzD,GAAOuD,iBAAiBvD,GACpCwD,MAAMI,GAAG5D,GAAOsD,cAActD,MAEhC,MAAMoD,iBAAoBP,GAAQA,EAAImB,cAAcC,QAAQ,eAAgBC,GAAMA,EAAEC,gBACpFN,OAAOC,KAAKzC,OAAO0C,SAAQ/D,IACzB2C,WAAW3C,GAAQ6C,IACjB,GAAmB,iBAARA,GAAmC,iBAARA,EACpC,MAAO,CAAC,KAAKA,IAAO,SAASxB,MAAMrB,MAErC,IAAK,IAAIoE,EAAI,EAAGA,EAAIvB,EAAIZ,OAAQmC,IAC9BvB,EAAIuB,IAAM,UAAU/C,MAAMrB,KAE5B,OAAO6C,GAETF,WAAW,KAAKS,iBAAiBpD,MAAW6C,IAC1C,GAAmB,iBAARA,GAAmC,iBAARA,EACpC,MAAO,CAAC,KAAKA,IAAO,gDAAwD,UAAR7C,EAAkB,OAAS,yCAAyCqB,MAAMrB,OAEhJ,IAAK,IAAIoE,EAAI,EAAGA,EAAIvB,EAAIZ,OAAQmC,IAC9BvB,EAAIuB,IAAM,wEAAwE/C,MAAMrB,MAE1F,OAAO6C,MAGXwB,OAAS,CACPvC,IAAAA,OACG0B,SACAb,YAGAhH,QACH0I,OAAS,CACP5F,IAAK,OACLsE,KAAM,OACNrF,MAAO,OACPsF,KAAM,OACNC,MAAO,OACP7F,KAAM,OACNT,MAAO,OACP8G,MAAO,CACLhF,IAAK,OACLsE,KAAM,OACNrF,MAAO,OACPsF,KAAM,OACNC,MAAO,OACP7F,KAAM,OACNT,MAAO,OACP+G,IAAK,QAEPE,GAAI,CACFnF,IAAK,OACLsE,KAAM,OACNrF,MAAO,OACPsF,KAAM,OACNC,MAAO,OACP7F,KAAM,OACNT,MAAO,SAGX6B,QAAQC,IAAM,QAGhB,MAAMvB,cAAgB,IACb,uCAAuC+G,QAAQ,SAAS,SAAUK,GACvE,IAAIC,EAAoB,GAAhBC,KAAKC,SAAgB,EAC7B,OADyC,KAALH,EAAWC,EAAS,EAAJA,EAAU,GACrDG,SAAS,OAGhBC,eAAiB,CAACC,EAAGC,KACzBC,GAAKF,EAAEG,MAAM,KACbC,GAAKH,EAAEE,MAAM,KACb,MAAME,EAAMT,KAAKU,IAAIJ,GAAG7C,OAAQ+C,GAAG/C,QACnC,KAAO6C,GAAG7C,OAASgD,GACjBH,GAAG7E,KAAK,KAEV,KAAO+E,GAAG/C,OAASgD,GACjBD,GAAG/E,KAAK,KAEV,IAAK,IAAImE,EAAI,EAAGA,EAAIa,EAAKb,IAAK,CAC5B,MAAMe,EAAOC,SAASN,GAAGV,IACnBiB,EAAOD,SAASJ,GAAGZ,IACzB,GAAIe,EAAOE,EACT,OAAOT,EACF,GAAIO,EAAOE,EAChB,OAAOR,EAGX,OAAOD,GAGHU,QAAU,CACd,8CACA,kDACA,0DAEIC,gBAAkB7I,UACtBlB,0BAA4BwB,GAAGC,KAAK,wBAA0BzB,oBAC9D6I,OAAOT,GAAGxG,KAAK,4BAAsC5B,wBAEvD,IAAIgK,YAAc,EAClB,MAAMC,iBAAmB/I,UACvB,IAAKjB,kBACH,OAEF,IAAIiK,EAAI,KAOR,OAHEA,EAHIF,aAAeF,QAAQrD,OAAS,GAGhClD,MAAMuG,QAASE,aAAeF,QAAQrD,OAAS,GAAM,IAFrD0D,SAASL,SAIfE,cACOE,EACJlF,MAAKK,GAAOA,EAAI+E,SAChBpF,MAAK9D,MAAAA,IACJ,IAAKmE,EAAIgF,QAAS,KAAM,oBACxB,MAAMC,QAAqB9I,GAAGC,KAAK,wBAA0BzB,oBAC7DA,oBAAsBmJ,eAAe9D,EAAIgF,QAASC,GAClDzB,OAAOT,GAAGX,MAAM,aAAuBzH,uBACnCsK,IAAiBtK,4BACbwB,GAAGgE,MAAM,oBAAqB,cAC9BhE,GAAGgE,MAAM,qBAAsB,SACrClF,QAAU+E,EAAIkF,KAAKjK,cACbkB,GAAGgE,MAAM,UAAWlF,SAC1BuI,OAAOT,GAAGX,MAAM,qCAChB3C,OAAO0F,OAAO3K,WAAa,eAC3BgJ,OAAOpB,MAAM,mCAETgD,sBACAjJ,GAAGgE,MAAM,sBAAuBxF,wBAEvCuF,OAAMrD,IACL2G,OAAO3G,MAAM,yBAA2BA,EAAMwI,OAASxI,QAG7DE,aAAYlB,gBACJ+I,qBACL,KACHpH,YAAW3B,gBACH+I,qBACL,KACH,MAAMU,gBAAkBzJ,gBAChB6I,kBACCjF,OAAOC,KAAKlF,WAAa,aAC7BmF,MAAK9D,eAAgB+D,GAepB,SAdWzD,GAAGC,KAAK,eACXD,GAAGgE,MAAM,OAAQ5E,QAAQc,wBAEtBF,GAAGC,KAAK,4BACXD,GAAGgE,MAAM,oBAAqBvF,yBAE3BuB,GAAGC,KAAK,6BACXD,GAAGgE,MAAM,qBAAsB,eAE7BhE,GAAGC,KAAK,aAChBnB,cAAgBkB,GAAGC,KAAK,kBAEpBD,GAAGgE,MAAM,iCAAkC,eAC3ChE,GAAGgE,MAAM,wBAAyB,SACpC1F,YAAY2G,OAAQ,CACtBoC,OAAOZ,MAAM9G,MAAM,cAAcrB,YAAY2G,iBAC7C,IAAImE,EAAQ,EACZ9K,YAAYyI,SAAQ,SAAUlF,GAC5B4B,EAAMC,MAAM,IAAIC,QAAQ9B,IAAM2B,MAAK,SAAU6F,GACvCA,EACFhC,OAAOpB,MAAM,cAAcpE,MAE3BwF,OAAOtB,KAAK,cAAclE,KAC1B4B,EAAMqB,IAAI,IAAInB,QAAQ9B,KAExBuH,IACIA,IAAU9K,YAAY2G,SACxBoC,OAAOpB,MAAM,aAAa3H,YAAY2G,iBACtCoC,OAAOZ,MAAMC,iBAKpB3C,OAAOrD,IACR2G,OAAO3G,MAAM,cAAgBA,EAAMwI,OAASxI,QAGlDK,KAAKO,iBAAiB,WAAW5B,eAAgBC,GAC/C0H,OAAOT,GAAGjH,MAAM,0CAChB,IACEoB,KAAKuI,cACL3J,EAAM4J,UAAUJ,mBAChB9B,OAAOT,GAAGX,MAAM,kCAChB,MAAOvF,GACP2G,OAAO3G,MAAM,cAAgBA,EAAMwI,OAASxI,QAGhDK,KAAKO,iBAAiB,YAAY5B,MAAAA,IAChC2H,OAAOT,GAAGjH,MAAM,2CAChB,IACEA,EAAM4J,UACJjG,OAAOwD,OAAOtD,MAAMsD,GACX3D,QAAQqG,IAAI1C,EAAK2C,KAAKzG,IACtBA,EAAI0G,SAAStL,qBAAuBD,SAAW6E,IAClDM,OAAO0F,OAAOhG,GACdqE,OAAOT,GAAGX,MAAM,2BAA6BjD,UAGhDe,OAAOrD,IACR2G,OAAO3G,MAAM,eAAiBA,EAAMwI,OAASxI,cAG3CK,KAAK4I,QAAQC,QACnBvC,OAAOT,GAAGX,MAAM,mCAChB,MAAOvF,GACP2G,OAAO3G,MAAM,eAAiBA,EAAMwI,OAASxI,QAGjDK,KAAKO,iBAAiB,SAAS5B,MAAAA,IAC7BC,EAAMkK,YACJlI,YAAYhC,GAAOoE,OAAOrD,IACxB2G,OAAO3G,MAAM,WAAaf,EAAMiC,QAAQC,IAAM,cAAgBnB,EAAMwI,OAASxI,WAMnF,MAAMuB,YAAcvC,MAAOC,IACzB0H,OAAOZ,MAAMrG,KAAK,gBAAkB,IAAI0J,IAAInK,EAAMiC,QAAQC,KAAKkI,UAC/D1C,OAAOtB,KAAK,yBAA2BpG,EAAMiC,QAAQC,KACrDwF,OAAOZ,MAAMC,MACN3E,MAAMpC,EAAMiC,UAEfM,WAAaxC,MAAOC,GACjB2D,OAAOI,MAAM/D,EAAMiC,SAAS4B,MAAK9D,MAAOsK,IAC7C3C,OAAOZ,MAAMrG,KAAK,eAAiB,IAAI0J,IAAInK,EAAMiC,QAAQC,KAAKkI,UAC9D1C,OAAOtB,KAAK,yBAA2BpG,EAAMiC,QAAQC,KACjDmI,GACF3C,OAAOZ,MAAMR,MAAM,aACnBzE,QAAQC,IAAIuI,GACZ3C,OAAOZ,MAAMC,MACbW,OAAOZ,MAAMC,MAC+B,gBAAjC1G,GAAGC,KAAK,sBAAqC,IAAIgK,OAAOrL,SAASsL,QAAQlI,KAAKrC,EAAMiC,QAAQC,KACrGwF,OAAOpB,MAAM,kEAEbtG,EAAM4J,UAAUY,aAAaxK,EAAMiC,UAE9BoI,IAEP3C,OAAOrB,KAAK,cACZqB,OAAOZ,MAAMC,MACNyD,aAAaxK,EAAMiC,aAI1BO,YAAczC,MAAOC,GAClB2D,OAAOI,MAAM/D,EAAMiC,SAAS4B,MAAK,SAAUwG,GAGhD,OAFA3C,OAAOZ,MAAMrG,KAAK,gBAAkB,IAAI0J,IAAInK,EAAMiC,QAAQC,KAAKkI,UAC/D1C,OAAOtB,KAAK,yBAA2BpG,EAAMiC,QAAQC,KACjDmI,GACF3C,OAAOZ,MAAMR,MAAM,aACnBzE,QAAQC,IAAIuI,GACZ3C,OAAOZ,MAAMC,MACbW,OAAOZ,MAAMC,MACNsD,IAEP3C,OAAOrB,KAAK,cACZqB,OAAOZ,MAAMC,MACNyD,aAAaxK,EAAMiC,aAK1BwI,WAAa1K,MAAOC,GACjB2D,OAAOI,MAAM/D,EAAMiC,SAAS4B,MAAK,SAAUwG,GAEhD,OADA3C,OAAOZ,MAAMrG,KAAK,yBAA2BT,EAAMiC,QAAQC,KACvDmI,GACF3C,OAAOZ,MAAMR,MAAM,aACnBzE,QAAQC,IAAIuI,GACZ3C,OAAOZ,MAAMC,MACbW,OAAOZ,MAAMC,MACNsD,IAEP3C,OAAOrB,KAAK,cACZqB,OAAOZ,MAAMC,MACNyD,aAAaxK,EAAMiC,aAIhClC,eAAeyK,aAAavI,GAC1B,MAAMC,EAAM,IAAIiI,IAAIlI,EAAQC,KAC5B,IAAIwH,QAAiBgB,SAASzI,GAQ9B,GAPKyH,IACHA,QAAiBtH,MAAMH,GAASmC,OAAM,IAAM,QAE9CsD,OAAOZ,MAAM9G,MAAM,iBAAiBkC,EAAIkI,YACxC1C,OAAOtB,KAAK,gBAAgBnE,EAAQC,OACpCL,QAAQC,IAAI4H,GAEW,QAAnBzH,EAAQE,QAAqC,UAAhBD,EAAIyI,SAAuB,QACtChH,OAAOC,KAAKlF,WAAa,aACvC6F,IAAItC,EAASyH,EAASkB,SAASxG,OAAMrD,IACzC2G,OAAO3G,MAAM,oBAAsBA,EAAMwI,OAASxI,IAC/B,uBAAfA,EAAMyF,OACR7C,OAAO0F,OAAO3K,WAAa,YAC3BgJ,OAAOpB,MAAM,qBAGjBoB,OAAOpB,MAAM,eAAerE,EAAQC,YAEpCwF,OAAOrB,KAAK,mBAAmBpE,EAAQC,OAGzC,OADAwF,OAAOZ,MAAMC,MACN2C,EAGT,MAAMgB,SAAW3K,MAAO8K,IACtB,MAAMC,EAAMC,WACNC,SAAEA,EAAQC,cAAEA,GAAkBH,EAAII,YAAcJ,EAAIK,eAAiBL,EAAIM,kBAAoB,GACnG,GAAIJ,GAAY,KAAK3I,KAAK4I,GAExB,OADAvD,OAAOrB,KAAK,mCACLjE,MAAMyI,GAEf,MAAMQ,EAAO,GACb,IAiCInH,EAjCAoH,EAAS,IAAInB,IAAIU,EAAI3I,KACrBqJ,EAAWD,EAAOlB,SAAShC,MAAM,KAAK,GAE1C,GAAItJ,mBAA6D,eAAjCuB,GAAGC,KAAK,sBAAoC,IAAIgK,OAAOrL,SAASsL,QAAQlI,KAAKwI,EAAI3I,KAAM,CACrHwF,OAAOZ,MAAMR,MAAM,qBAAuBuE,EAAI3I,KAC9C,IAAK,MAAMmB,KAAOZ,IAAIS,IAAK,CACzB,IAAIhB,EAAMO,IAAIS,IAAIG,GAARZ,cAA8C5D,oBAAsBgM,EAAI3I,IAAIoF,QAAQrI,SAASsL,OAAQ,IAC/GrI,EAAMsJ,SAAStJ,GACfL,QAAQC,IAAII,GACZmJ,EAAK/H,KAAKpB,GAEZwF,OAAOZ,MAAMC,MAEf,IAAKsE,EAAK/F,OAAQ,CAChB,IAAK,MAAMmG,KAAQrI,eACjB,GAAI,IAAIkH,OAAOmB,EAAKpI,KAAKhB,KAAKwI,EAAI3I,KAAM,CACtCqJ,EAAWE,EAAKvL,KAChB,MAGJ,IAAK,MAAMA,KAAQuC,IACjB,GAAIvC,IAASqL,EAAU,CACrB7D,OAAOZ,MAAMR,MAAM,aAAaiF,MAAeV,EAAI3I,KACnD,IAAK,MAAMmB,KAAOZ,IAAIvC,GAAO,CAC3B,MAAMgC,EAAMO,IAAIvC,GAAMmD,GAAOiI,EAAOlB,SAAS9C,QAAQ,IAAMiE,EAAU,IACrE1J,QAAQC,IAAII,GACZmJ,EAAK/H,KAAKpB,GAEZwF,OAAOZ,MAAMC,OAUnB,GAHE7C,EADEmH,EAAK/F,OACD0D,SAASqC,GAETjJ,MAAMyI,GACV3G,GAAOpF,mBAAqB,IAAIwL,OAAOrL,SAASsL,QAAQlI,KAAKwI,EAAI3I,KAAM,CACzE,MAAMwJ,EAAMF,SAASX,EAAI3I,KAAKkG,MAAM,KAAKuD,MACnCC,EAAcC,eAAeH,GACnCxH,EAAMA,EACHL,MAAKK,GAAOA,EAAI4H,gBAChBjI,MAAKkI,GAAU,IAAIvH,SAASuH,EAAQ,CACnCC,QAAS,CACP,eAAgBJ,OAGnBxH,OAAM,IAAM,OAEjB,OAAOF,GAGHsH,SAAYtJ,IAEhB,IADAA,EAAMA,EAAIkG,MAAM,KAAK,GAAGA,MAAM,KAAK,IAC3B6D,SAAS,KACf/J,GAAO,iBACF,CACL,MAAMgK,EAAOhK,EAAIkG,MAAM,MAEI,IADd8D,EAAKA,EAAK5G,OAAS,GACvB6G,QAAQ,OACfjK,GAAO,SAGX,OAAOA,GAETnC,eAAeqM,SAASlI,GACtB,OAAO,IAAIM,eAAeN,EAAI4H,cAAe,CAC3CO,OAAQnI,EAAImI,OACZL,QAAS9H,EAAI8H,UAIjB,SAASM,mBACP9I,QAAQ+I,IAAM,SAAUC,GACtB,OAAO,IAAIhJ,SAAQ,CAACC,EAASC,KAE3B,IAAI4E,GADJkE,EAAWC,MAAMC,QAAQF,GAAYA,EAAW,IAC7BlH,OACfqH,EAAO,GACX,GAAY,IAARrE,EAAW,OAAO5E,EAAO,IAAIkJ,eAAe,+BAChDJ,EAASpF,SAASyF,IACZA,aAAarJ,QACfqJ,EAAEhJ,MACCK,GAAQT,EAAQS,KAChB4I,IACCxE,IACAqE,EAAKrJ,KAAKwJ,GACE,IAARxE,GAAW5E,EAAO,IAAIkJ,eAAeD,OAI7CjJ,EAAOmJ,UAOjB,SAAS7D,SAASqC,GAChB,MAAM0B,EAAa,IAAIC,gBACjBC,EAASF,EAAWE,OAEpBC,EAAa7B,EAAKvB,KAAK5H,GACpB,IAAIsB,SAAQ,CAACC,EAASC,KAC3BtB,MAAMF,EAAK,CAAE+K,OAAAA,IACVpJ,KAAKuI,UACLvI,MAAMK,IACL,MAAM0D,EAAI1D,EAAI0G,QACG,MAAbhD,EAAEyE,QAAgB3I,EAAO,MAC7BqJ,EAAWI,QACX1J,EAAQmE,MAETxD,OAAM,IAAMV,EAAO,aAM1B,OAFKF,QAAQ+I,KAAKD,mBAEX9I,QAAQ+I,IAAIW,GAChBrJ,MAAMK,GAAQA,IACdE,OAAM,IAAM,OAGjB,MAAMyH,eAAkBH,IACtB,OAAQA,GACN,IAAK,KACH,MAAO,kBACT,IAAK,OACH,MAAO,YACT,IAAK,MACH,MAAO,WACT,IAAK,OAkBL,IAAK,MACH,MAAO,mBAjBT,IAAK,OACH,MAAO,aACT,IAAK,MAEL,IAAK,OACH,MAAO,aACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,YACT,IAAK,MAEL,IAAK,MACH,MAAO,WACT,IAAK,cACH,MAAO,mBAGT,IAAK,QAEL,IAAK,OACH,MAAO,qBACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,2BACT,IAAK,OAEL,IAAK,MACH,MAAO,aACT,IAAK,MAEL,IAAK,OACH,MAAO,gBACT,IAAK,OACH,MAAO,wBACT,IAAK,QACH,MAAO,yBACT,IAAK,MACH,MAAO,uBACT,IAAK,MACH,MAAO,uBACT,IAAK,MACH,MAAO,gCACT,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,oBACT,IAAK,KACH,MAAO,mBACT,IAAK,MACH,MAAO,sBACT,IAAK,MACH,MAAO,+BACT,IAAK,KACH,MAAO,8BACT,IAAK,MACH,MAAO,qBACT,IAAK,OACH,MAAO,0EACT,IAAK,MACH,MAAO,2BACT,IAAK,OACH,MAAO,oEACT,IAAK,MACH,MAAO,gCACT,IAAK,OACH,MAAO,4EACT,IAAK,MACH,MAAO,kBACT,IAAK,MAkEL,QACE,MAAO,aAjET,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,aACT,IAAK,MACH,MAAO,cACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,cACT,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,iBACT,IAAK,MACH,MAAO,cACT,IAAK,MACH,MAAO,gCACT,IAAK,MAEL,IAAK,OAEL,IAAK,MAEL,IAAK,MAEL,IAAK,MACH,MAAO,aACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,kBACT,IAAK,OACH,MAAO,gCACT,IAAK,MACH,MAAO,gBACT,IAAK,MACH,MAAO,oBACT,IAAK,MACH,MAAO,iBACT,IAAK,OACH,MAAO,aACT,IAAK,MAEL,IAAK,OAEL,IAAK,OACH,MAAO,eACT,IAAK,KAEL,IAAK,MACH,MAAO,cACT,IAAK,MAEL,IAAK,OAEL,IAAK,MACH,MAAO,eAKP0B,aAAerN,MAAO+D,EAAOiF,KACjC,MAAMvC,EAAOuC,EAAEvC,KAAKc,QAAQ,WAAYrI,SAASsL,QAC3CmB,EAAMlF,EAAK4B,MAAM,KAAKuD,MACtBzJ,EAAMsE,EAAKc,QAAQ,cAAe,IAAIA,QAAQ,SAAU,IACxDsE,EAAcC,eAAeH,GACnC5H,EAAMS,IAAI,IAAIP,QAAQ9B,GAAM,IAAIsC,SAASuE,EAAEgD,OAAQ,CACjDC,QAAS,CACP,eAAgBJ,OAItByB,cAAc,aACd,MAAM/D,cAAgBvJ,UACpB,IAAKhB,mBACH,OAEF,GAA4C,eAAlCsB,GAAGC,KAAK,sBAChB,OAEF,IAAKnB,QACH,OAEF,GAAwD,eAA9CkB,GAAGC,KAAK,kCAChB,aAEID,GAAGgE,MAAM,iCAAkC,QACjDqD,OAAOtB,KAAK,2BAA6BjH,SACzC,MAAMmO,EAAMnO,QAAQmI,QAAQ,kCAAmC,+BACzDiG,EAASnO,cAAgBkO,EAC/B3J,OAAOC,KAAKlF,WAAa,eAAemF,MAAK9D,MAAO+D,UAC5C0J,WAAWD,GAAQ1J,MAAK9D,MAAO0N,IACnC,UAAW,MAAM1E,KAAK0E,EACpB5L,QAAQC,IAAIiH,SACNqE,aAAatJ,EAAOiF,SAEtB1I,GAAGgE,MAAM,oBAAqB,eAC9BhE,GAAGgE,MAAM,qBAAsB,cAC/BhE,GAAGgE,MAAM,iCAAkC,SACjDqD,OAAOT,GAAGX,MAAM,4CAEjBlC,OAAMrE,MAAOgB,UACRV,GAAGgE,MAAM,iCAAkC,SACjDqD,OAAO3G,MAAM,+BAAiCA,EAAMwI,OAASxI","file":"../jquery.js","sourcesContent":["const prefix = 'MHuiG-Blog';\nconst cacheSuffixVersion = '00000013-::cacheSuffixVersion::';\nconst CACHE_NAME = prefix + '-v' + cacheSuffixVersion;\nconst PreCachlist = [\n  \"/css/style.css\",\n  \"/js/app.js\",\n  \"/js/search/hexo.js\",\n];\nconst npm_package_name = \"@mhg/blog\";\nlet npm_package_version = \"1.0.1656985732103\";\nlet status_npm_mirror = true;\nlet status_npm_tarball = true;\nlet debug = false;\nlocation.hostname == 'localhost' && (debug = true) && (status_npm_mirror = false);\nlet tarball = `https://registry.npmjs.org/@mhg/blog/-/blog-${npm_package_version}.tgz`;\nconst cors_anywhere = \"https://cors.mhuig.top?url=\"\nconst wss = \"wss://blog.mhuig.top/ws\"\nlet status_ws = false;\nlet uuid = null;\nlet zuid = null;\n\nconst setUUID = (id) => {\n  if (!uuid) {\n    uuid = id\n  }\n  return uuid\n}\nconst setZUID = (id) => {\n  if (!zuid) {\n    zuid = id\n  }\n  return zuid\n}\nconst broadcast = new BroadcastChannel('Worker Channel');\nbroadcast.onmessage = async (event) => {\n  const data = event.data;\n  const type = data.type;\n  const data_ = data.data;\n  if (type === 'ANS') {\n    await saveWebLog(data_);\n  }\n};\nconst saveWebLog = async (data) => {\n  try {\n    setUUID((await db.read('uuid') || generate_uuid()))\n    setZUID((await db.read('zuid') || data.zuid))\n    const weblog = {\n      id: (uuid || await db.read('uuid') || generate_uuid()) + \"-\" + (zuid || await db.read('zuid') || data.zuid || \"unknown\"),\n      uuid: (uuid || await db.read('uuid') || generate_uuid()),\n      zuid: (zuid || await db.read('zuid') || data.zuid || \"unknown\"),\n      info: data,\n    }\n    ws.send(JSON.stringify({ opt: \"weblog\", data: weblog }))\n  } catch (error) { }\n}\nconst status_worker_channel_interval = setInterval(async () => {\n  const status = await db.read('status_worker_channel')\n  if (status == \"true\") {\n    clearInterval(status_worker_channel_interval)\n  } else {\n    broadcast.postMessage({ type: 'INIT' })\n  }\n}, 500);\nself.ws = {\n  init: () => {\n    self.wsc = new WebSocket(wss);\n    wsc.onerror = () => { };\n    wsc.onclose = () => {\n      status_ws = false;\n      setTimeout(() => {\n        ws.init()\n      }, 1000);\n    }\n    wsc.addEventListener('message', async (event) => {\n      const data = JSON.parse(event.data)\n      console.log(data)\n      if (data.code == 200) {\n        status_ws = true;\n        setTimeout(() => { broadcast.postMessage({ type: 'ANS' }) }, 2000)\n      }\n    })\n  },\n  send: (data) => {\n    if (!wsc) ws.init();\n    if (status_ws) {\n      wsc.send(data)\n    }\n  }\n}\nws.init()\nconst handleFetch = async (event) => {\n  const request = event.request;\n  const url = event.request.url;\n  if (request.method !== \"GET\") {\n    return fetch(request);\n  }\n  if (/nocache/.test(url)) {\n    return NetworkOnly(event)\n  } else if (/cdn-cgi/.test(url)) {\n    return NetworkOnly(event)\n  } else if (/vues/.test(url)) {\n    return NetworkOnly(event)\n  } else if (/api\\.mhuig\\.top/.test(url)) {\n    return NetworkOnly(event)\n  } else if (/captcha/.test(url)) {\n    return NetworkOnly(event)\n  } else if (/token/.test(url)) {\n    return NetworkOnly(event)\n  } else if (/@latest/.test(url)) {\n    return CacheFirst(event)\n  } else if (/cdnjs\\.cloudflare\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/music\\.126\\.net/.test(url)) {\n    return CacheAlways(event)\n  } else if (/qqmusic\\.qq\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/jsdelivr\\.net/.test(url)) {\n    return CacheAlways(event)\n  } else if (/static\\.mhuig\\.top/.test(url)) {\n    return CacheAlways(event)\n  } else if (/npm\\.elemecdn\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/unpkg\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/.*\\.(?:png|jpg|jpeg|svg|gif|webp|ico|eot|ttf|woff|woff2|mp3)$/.test(url)) {\n    return CacheAlways(event)\n  } else if (/.*\\.(css|js)$/.test(url)) {\n    return CacheAlways(event)\n  } else {\n    return CacheFirst(event)\n  }\n}\nconst cdn = {\n  gh: {\n    jsdelivr: 'https://cdn.jsdelivr.net/gh',\n    fastly: 'https://fastly.jsdelivr.net/gh',\n    gcore: 'https://gcore.jsdelivr.net/gh',\n    testingcf: 'https://testingcf.jsdelivr.net/gh',\n    test1: 'https://test1.jsdelivr.net/gh',\n    mhuig: 'https://static.mhuig.top/gh',\n  },\n  combine: {\n    jsdelivr: 'https://cdn.jsdelivr.net/combine',\n    fastly: 'https://fastly.jsdelivr.net/combine',\n    gcore: 'https://gcore.jsdelivr.net/combine',\n    testingcf: 'https://testingcf.jsdelivr.net/combine',\n    test1: 'https://test1.jsdelivr.net/combine',\n  },\n  npm: {\n    jsdelivr: 'https://cdn.jsdelivr.net/npm',\n    fastly: 'https://fastly.jsdelivr.net/npm',\n    gcore: 'https://gcore.jsdelivr.net/npm',\n    testingcf: 'https://testingcf.jsdelivr.net/npm',\n    test1: 'https://test1.jsdelivr.net/npm',\n    unpkg: 'https://unpkg.com',\n    mhuig: 'https://static.mhuig.top/npm',\n  }\n}\nconst cdn_match_list = []\nfor (const type in cdn) {\n  for (const key in cdn[type]) {\n    cdn_match_list.push({ type: type, key: cdn[type][key] })\n  }\n}\nself.db = {\n  read: (key, config) => {\n    if (!config) { config = { type: \"text\" } }\n    return new Promise((resolve, reject) => {\n      caches.open(prefix).then(cache => {\n        cache.match(new Request(`https://LOCALCACHE/${encodeURIComponent(key)}`)).then(function (res) {\n          if (!res) resolve(null)\n          res.text().then(text => resolve(text))\n        }).catch(() => {\n          resolve(null)\n        })\n      })\n    })\n  },\n  write: (key, value) => {\n    return new Promise((resolve, reject) => {\n      caches.open(prefix).then(function (cache) {\n        cache.put(new Request(`https://LOCALCACHE/${encodeURIComponent(key)}`), new Response(value));\n        resolve()\n      }).catch(() => {\n        reject()\n      })\n    })\n  }\n}\nconst _console = console;\nconst color = {\n  black: '#000000',\n  red: '#FF0000',\n  green: '#008000',\n  yellow: '#FFFF00',\n  blue: '#0000FF',\n  magenta: '#FF00FF',\n  cyan: '#00FFFF',\n  white: '#FFFFFF',\n};\nconst add = (...arr) => {\n  let fi = [\n    []\n  ];\n  for (let key = 0; key < arr.length; key++) {\n    const [first, ...other] = arr[key];\n    fi[0] += first;\n    fi = fi.concat(other);\n  }\n  return fi;\n};\nconst createlog = (util) => (...args) => {\n  // const fun = _console[util] ? _console[util] : _console.log;\n  const fun = util == \"error\" ? _console[util] : _console.log;\n  fun.apply(void 0, args);\n};\nconst creategroup = (util) => (...args) => {\n  const fun = _console.groupCollapsed;\n  fun.apply(void 0, args);\n};\nconst colorUtils = {\n  bold: (str) => {\n    if (typeof str === 'string' || typeof str === 'number') {\n      return `${str};font-weight: bold;`;\n    }\n    for (let key = 1; key < str.length; key++) {\n      str[key] += `;font-weight: bold;`;\n    }\n    return str;\n  }\n};\nconst colorHash = {\n  log: 'black',\n  wait: 'cyan',\n  error: 'red',\n  warn: 'yellow',\n  ready: 'green',\n  info: 'blue',\n  event: 'magenta',\n};\nconst createChalk = (name) => (...str) => {\n  if (typeof str[0] === 'object') {\n    createlog(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), ...str));\n    return;\n  }\n  let strArr = str;\n  if (typeof str === 'string' || typeof str === 'number') {\n    strArr = colorUtils[colorHash[name]](str);\n  }\n  createlog(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), strArr));\n};\nconst createChalkBg = (name) => (...str) => {\n  if (typeof str[0] === 'object') {\n    createlog(name)(...add(colorUtils.bold(colorUtils[`bg${firstToUpperCase(colorHash[name])}`](`[${firstToUpperCase(name)}] `)), ...str));\n    return;\n  }\n  let strArr = str;\n  if (typeof str === 'string' || typeof str === 'number') {\n    strArr = colorUtils[colorHash[name]](str);\n  }\n  createlog(name)(...add(colorUtils.bold(colorUtils[`bg${firstToUpperCase(colorHash[name])}`](`[${firstToUpperCase(name)}] `)), strArr));\n};\nconst createChalkGroup = (name) => (...str) => {\n  if (typeof str[0] === 'object') {\n    creategroup(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), ...str));\n    return;\n  }\n  let strArr = str;\n  if (typeof str === 'string' || typeof str === 'number') {\n    strArr = colorUtils[colorHash[name]](str);\n  }\n  creategroup(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), strArr));\n};\nconst chalk = {\n  group: {\n    end: _console.groupEnd\n  },\n  bg: {}\n};\nObject.keys(colorHash).forEach(key => {\n  chalk[key] = createChalk(key);\n  chalk.group[key] = createChalkGroup(key);\n  chalk.bg[key] = createChalkBg(key);\n});\nconst firstToUpperCase = (str) => str.toLowerCase().replace(/( |^)[a-z]/g, (L) => L.toUpperCase());\nObject.keys(color).forEach(key => {\n  colorUtils[key] = (str) => {\n    if (typeof str === 'string' || typeof str === 'number') {\n      return [`%c${str}`, `color:${color[key]}`];\n    }\n    for (let i = 1; i < str.length; i++) {\n      str[i] += `;color:${color[key]}`;\n    }\n    return str;\n  };\n  colorUtils[`bg${firstToUpperCase(key)}`] = (str) => {\n    if (typeof str === 'string' || typeof str === 'number') {\n      return [`%c${str}`, `padding: 2px 4px; border-radius: 3px; color: ${key === 'white' ? '#000' : '#fff'}; font-weight: bold; background:${color[key]};`];\n    }\n    for (let i = 1; i < str.length; i++) {\n      str[i] += `;padding: 2px 4px; border-radius: 3px; font-weight: bold; background:${color[key]};`;\n    }\n    return str;\n  };\n});\nlogger = {\n  add,\n  ...chalk,\n  ...colorUtils,\n};\n\nif (!debug) {\n  logger = {\n    log: () => { },\n    wait: () => { },\n    error: () => { },\n    warn: () => { },\n    ready: () => { },\n    info: () => { },\n    event: () => { },\n    group: {\n      log: () => { },\n      wait: () => { },\n      error: () => { },\n      warn: () => { },\n      ready: () => { },\n      info: () => { },\n      event: () => { },\n      end: () => { },\n    },\n    bg: {\n      log: () => { },\n      wait: () => { },\n      error: () => { },\n      warn: () => { },\n      ready: () => { },\n      info: () => { },\n      event: () => { },\n    }\n  };\n  console.log = () => { };\n}\n\nconst generate_uuid = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\nconst compareVersion = (a, b) => {\n  v1 = a.split('.');\n  v2 = b.split('.');\n  const len = Math.max(v1.length, v2.length);\n  while (v1.length < len) {\n    v1.push('0');\n  }\n  while (v2.length < len) {\n    v2.push('0');\n  }\n  for (let i = 0; i < len; i++) {\n    const num1 = parseInt(v1[i]);\n    const num2 = parseInt(v2[i]);\n    if (num1 > num2) {\n      return a;\n    } else if (num1 < num2) {\n      return b;\n    }\n  }\n  return a;\n}\n\nconst mirrors = [\n  `https://registry.npmjs.org/${npm_package_name}/latest`,\n  `https://registry.npmmirror.com/${npm_package_name}/latest`,\n  `https://mirrors.cloud.tencent.com/npm/${npm_package_name}/latest`\n]\nconst getLocalVersion = async () => {\n  npm_package_version = await db.read('npm_package_version') || npm_package_version\n  logger.bg.info(`Local Version: ${npm_package_name}@${npm_package_version}`)\n}\nlet mirror_time = 0;\nconst setNewestVersion = async () => {\n  if (!status_npm_mirror) {\n    return\n  }\n  let f = null;\n  if (!(mirror_time % (mirrors.length + 1))) {\n    f = fetchAny(mirrors);\n  } else {\n    f = fetch(mirrors[(mirror_time % (mirrors.length + 1)) - 1]);\n  }\n  mirror_time++;\n  return f\n    .then(res => res.json())\n    .then(async res => {\n      if (!res.version) throw ('No Version Found!')\n      const localVersion = await db.read('npm_package_version') || npm_package_version\n      npm_package_version = compareVersion(res.version, localVersion)\n      logger.bg.ready(`${npm_package_name}@${npm_package_version}`)\n      if (localVersion !== npm_package_version) {\n        await db.write('status_npm_mirror', \"true\")\n        await db.write('status_npm_tarball', \"false\")\n        tarball = res.dist.tarball\n        await db.write('tarball', tarball)\n        logger.bg.ready(\"[CacheAlways] NPM Mirror Enabled!\")\n        caches.delete(CACHE_NAME + \"-npmtarball\");\n        logger.ready(\"deleted cache npmtarball\")\n      }\n      await getNpmTarball();\n      await db.write('npm_package_version', npm_package_version)\n    })\n    .catch(error => {\n      logger.error('[Set Newest Version] ' + (error.stack || error))\n    })\n}\nsetInterval(async () => {\n  await setNewestVersion()\n}, 60 * 1000);\nsetTimeout(async () => {\n  await setNewestVersion()\n}, 5000)\nconst installFunction = async () => {\n  await getLocalVersion();\n  return caches.open(CACHE_NAME + \"-precache\")\n    .then(async function (cache) {\n      if (!await db.read('uuid')) {\n        await db.write('uuid', setUUID(generate_uuid()))\n      }\n      if (!await db.read('status_npm_mirror')) {\n        await db.write('status_npm_mirror', status_npm_mirror)\n      }\n      if (!await db.read('status_npm_tarball')) {\n        await db.write('status_npm_tarball', \"false\")\n      }\n      if (await db.read('tarball')) {\n        tarball = await db.read('tarball')\n      }\n      await db.write('status_downloading_npm_tarball', \"false\")\n      await db.write('status_worker_channel', \"false\")\n      if (PreCachlist.length) {\n        logger.group.event(`Precaching ${PreCachlist.length} files.`);\n        let index = 0;\n        PreCachlist.forEach(function (url) {\n          cache.match(new Request(url)).then(function (response) {\n            if (response) {\n              logger.ready(`Precaching ${url}`);\n            } else {\n              logger.wait(`Precaching ${url}`);\n              cache.add(new Request(url));\n            }\n            index++;\n            if (index === PreCachlist.length) {\n              logger.ready(`Precached ${PreCachlist.length} files.`);\n              logger.group.end();\n            }\n          })\n        })\n      }\n    }).catch((error) => {\n      logger.error('[install] ' + (error.stack || error));\n    })\n}\nself.addEventListener('install', async function (event) {\n  logger.bg.event(\"service worker install event listening\");\n  try {\n    self.skipWaiting();\n    event.waitUntil(installFunction());\n    logger.bg.ready('service worker install sucess!');\n  } catch (error) {\n    logger.error('[install] ' + (error.stack || error));\n  }\n});\nself.addEventListener('activate', async event => {\n  logger.bg.event(\"service worker activate event listening\");\n  try {\n    event.waitUntil(\n      caches.keys().then((keys) => {\n        return Promise.all(keys.map((key) => {\n          if (!key.includes(cacheSuffixVersion) && prefix !== key) {\n            caches.delete(key);\n            logger.bg.ready('Deleted Outdated Cache: ' + key);\n          }\n        }));\n      }).catch((error) => {\n        logger.error('[activate] ' + (error.stack || error));\n      })\n    );\n    await self.clients.claim()\n    logger.bg.ready('service worker activate sucess!');\n  } catch (error) {\n    logger.error('[activate] ' + (error.stack || error));\n  }\n})\nself.addEventListener('fetch', async event => {\n  event.respondWith(\n    handleFetch(event).catch((error) => {\n      logger.error('[fetch] ' + event.request.url + '\\n[error] ' + (error.stack || error));\n    })\n  )\n});\n\n\nconst NetworkOnly = async (event) => {\n  logger.group.info('NetworkOnly: ' + new URL(event.request.url).pathname);\n  logger.wait('service worker fetch: ' + event.request.url)\n  logger.group.end();\n  return fetch(event.request)\n}\nconst CacheFirst = async (event) => {\n  return caches.match(event.request).then(async (resp) => {\n    logger.group.info('CacheFirst: ' + new URL(event.request.url).pathname);\n    logger.wait('service worker fetch: ' + event.request.url)\n    if (resp) {\n      logger.group.ready(`Cache Hit`);\n      console.log(resp)\n      logger.group.end();\n      logger.group.end();\n      if ((await db.read('status_npm_mirror') === \"false\") && new RegExp(location.origin).test(event.request.url)) {\n        logger.ready(\"[CacheAlways] NPM Tarball Source Enabled! NPM Mirror Disabled!\")\n      } else {\n        event.waitUntil(CacheRuntime(event.request))\n      }\n      return resp;\n    } else {\n      logger.warn(`Cache Miss`);\n      logger.group.end();\n      return CacheRuntime(event.request)\n    }\n  })\n}\nconst CacheAlways = async (event) => {\n  return caches.match(event.request).then(function (resp) {\n    logger.group.info('CacheAlways: ' + new URL(event.request.url).pathname);\n    logger.wait('service worker fetch: ' + event.request.url)\n    if (resp) {\n      logger.group.ready(`Cache Hit`);\n      console.log(resp)\n      logger.group.end();\n      logger.group.end();\n      return resp;\n    } else {\n      logger.warn(`Cache Miss`);\n      logger.group.end();\n      return CacheRuntime(event.request)\n    }\n  })\n}\n\nconst matchCache = async (event) => {\n  return caches.match(event.request).then(function (resp) {\n    logger.group.info('service worker fetch: ' + event.request.url)\n    if (resp) {\n      logger.group.ready(`Cache Hit`);\n      console.log(resp)\n      logger.group.end();\n      logger.group.end();\n      return resp;\n    } else {\n      logger.warn(`Cache Miss`);\n      logger.group.end();\n      return CacheRuntime(event.request)\n    }\n  })\n}\nasync function CacheRuntime(request) {\n  const url = new URL(request.url);\n  let response = await matchCDN(request);\n  if (!response) {\n    response = await fetch(request).catch(() => null)\n  }\n  logger.group.event(`Cache Runtime ${url.pathname}`);\n  logger.wait(`Caching url: ${request.url}`);\n  console.log(response);\n\n  if (request.method === \"GET\" && (url.protocol == \"https:\")) {\n    const cache = await caches.open(CACHE_NAME + \"-runtime\");\n    cache.put(request, response.clone()).catch(error => {\n      logger.error('[Cache Runtime] ' + (error.stack || error));\n      if (error.name === 'QuotaExceededError') {\n        caches.delete(CACHE_NAME + \"-runtime\");\n        logger.ready(\"deleted cache\")\n      }\n    })\n    logger.ready(`Cached url: ${request.url}`);\n  } else {\n    logger.warn(`Not Cached url: ${request.url}`);\n  }\n  logger.group.end();\n  return response;\n}\n\nconst matchCDN = async (req) => {\n  const nav = navigator\n  const { saveData, effectiveType } = nav.connection || nav.mozConnection || nav.webkitConnection || {}\n  if (saveData || /2g/.test(effectiveType)) {\n    logger.warn(\"Slow Network: Transparent Proxy\");\n    return fetch(req);\n  }\n  const urls = []\n  let urlObj = new URL(req.url)\n  let pathType = urlObj.pathname.split('/')[1]\n\n  if (status_npm_mirror && (await db.read('status_npm_mirror') === \"true\") && new RegExp(location.origin).test(req.url)) {\n    logger.group.ready(`Match NPM Mirror: ` + req.url);\n    for (const key in cdn.npm) {\n      let url = cdn.npm[key] + \"/\" + npm_package_name + \"@\" + npm_package_version + req.url.replace(location.origin, '')\n      url = fullPath(url)\n      console.log(url);\n      urls.push(url)\n    }\n    logger.group.end()\n  }\n  if (!urls.length) {\n    for (const item of cdn_match_list) {\n      if (new RegExp(item.key).test(req.url)) {\n        pathType = item.type\n        break;\n      }\n    }\n    for (const type in cdn) {\n      if (type === pathType) {\n        logger.group.ready(`Match CDN ${pathType}: ` + req.url);\n        for (const key in cdn[type]) {\n          const url = cdn[type][key] + urlObj.pathname.replace('/' + pathType, '')\n          console.log(url);\n          urls.push(url)\n        }\n        logger.group.end()\n      }\n    }\n  }\n\n  let res;\n  if (urls.length)\n    res = fetchAny(urls)\n  else\n    res = fetch(req)\n  if (res && status_npm_mirror && new RegExp(location.origin).test(req.url)) {\n    const ext = fullPath(req.url).split('.').pop()\n    const contentType = getContentType(ext)\n    res = res\n      .then(res => res.arrayBuffer())\n      .then(buffer => new Response(buffer, {\n        headers: {\n          \"Content-Type\": contentType\n        }\n      }))\n      .catch(() => null)\n  }\n  return res\n}\n\nconst fullPath = (url) => {\n  url = url.split('?')[0].split('#')[0]\n  if (url.endsWith('/')) {\n    url += 'index.html'\n  } else {\n    const list = url.split('/')\n    const last = list[list.length - 1]\n    if (last.indexOf('.') === -1) {\n      url += '.html'\n    }\n  }\n  return url\n}\nasync function progress(res) {\n  return new Response(await res.arrayBuffer(), {\n    status: res.status,\n    headers: res.headers\n  })\n}\n\nfunction createPromiseAny() {\n  Promise.any = function (promises) {\n    return new Promise((resolve, reject) => {\n      promises = Array.isArray(promises) ? promises : []\n      let len = promises.length\n      let errs = []\n      if (len === 0) return reject(new AggregateError('All promises were rejected'))\n      promises.forEach((p) => {\n        if (p instanceof Promise) {\n          p.then(\n            (res) => resolve(res),\n            (err) => {\n              len--\n              errs.push(err)\n              if (len === 0) reject(new AggregateError(errs))\n            }\n          )\n        } else {\n          reject(p)\n        }\n      })\n    })\n  }\n}\n\nfunction fetchAny(urls) {\n  const controller = new AbortController()\n  const signal = controller.signal\n\n  const PromiseAll = urls.map((url) => {\n    return new Promise((resolve, reject) => {\n      fetch(url, { signal })\n        .then(progress)\n        .then((res) => {\n          const r = res.clone()\n          if (r.status !== 200) reject(null)\n          controller.abort()\n          resolve(r)\n        })\n        .catch(() => reject(null))\n    })\n  })\n\n  if (!Promise.any) createPromiseAny()\n\n  return Promise.any(PromiseAll)\n    .then((res) => res)\n    .catch(() => null)\n}\n\nconst getContentType = (ext) => {\n  switch (ext) {\n    case 'js':\n      return 'text/javascript'\n    case 'html':\n      return 'text/html'\n    case 'css':\n      return 'text/css'\n    case 'json':\n      return 'application/json'\n    case 'webp':\n      return 'image/webp'\n    case 'jpg':\n      return 'image/jpeg'\n    case 'jpeg':\n      return 'image/jpeg'\n    case 'png':\n      return 'image/png'\n    case 'gif':\n      return 'image/gif'\n    case 'xml':\n      return 'text/xml'\n    case 'xsl':\n      return 'text/xml'\n    case 'webmanifest':\n      return 'text/webmanifest'\n    case 'map':\n      return 'application/json'\n    case 'bcmap':\n      return 'image/vnd.wap.wbmp'\n    case 'wbmp':\n      return 'image/vnd.wap.wbmp'\n    case 'bmp':\n      return 'image/bmp'\n    case 'ico':\n      return 'image/vnd.microsoft.icon'\n    case 'tiff':\n      return 'image/tiff'\n    case 'tif':\n      return 'image/tiff'\n    case 'svg':\n      return 'image/svg+xml'\n    case 'svgz':\n      return 'image/svg+xml'\n    case 'woff':\n      return 'application/font-woff'\n    case 'woff2':\n      return 'application/font-woff2'\n    case 'ttf':\n      return 'application/font-ttf'\n    case 'otf':\n      return 'application/font-otf'\n    case 'eot':\n      return 'application/vnd.ms-fontobject'\n    case 'zip':\n      return 'application/zip'\n    case 'tar':\n      return 'application/x-tar'\n    case 'gz':\n      return 'application/gzip'\n    case 'bz2':\n      return 'application/x-bzip2'\n    case 'rar':\n      return 'application/x-rar-compressed'\n    case '7z':\n      return 'application/x-7z-compressed'\n    case 'doc':\n      return 'application/msword'\n    case 'docx':\n      return 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n    case 'xls':\n      return 'application/vnd.ms-excel'\n    case 'xlsx':\n      return 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n    case 'ppt':\n      return 'application/vnd.ms-powerpoint'\n    case 'pptx':\n      return 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n    case 'pdf':\n      return 'application/pdf'\n    case 'txt':\n      return 'text/plain'\n    case 'rtf':\n      return 'application/rtf'\n    case 'mp3':\n      return 'audio/mpeg'\n    case 'wav':\n      return 'audio/x-wav'\n    case 'ogg':\n      return 'audio/ogg'\n    case 'mp4':\n      return 'video/mp4'\n    case 'm4v':\n      return 'video/x-m4v'\n    case 'mov':\n      return 'video/quicktime'\n    case 'avi':\n      return 'video/x-msvideo'\n    case 'wmv':\n      return 'video/x-ms-wmv'\n    case 'flv':\n      return 'video/x-flv'\n    case 'swf':\n      return 'application/x-shockwave-flash'\n    case 'mpg':\n      return 'video/mpeg'\n    case 'mpeg':\n      return 'video/mpeg'\n    case 'mpe':\n      return 'video/mpeg'\n    case 'mpv':\n      return 'video/mpeg'\n    case 'm2v':\n      return 'video/mpeg'\n    case 'm4a':\n      return 'audio/mp4'\n    case 'aac':\n      return 'audio/aac'\n    case 'm3u':\n      return 'audio/x-mpegurl'\n    case 'm3u8':\n      return 'application/vnd.apple.mpegurl'\n    case 'pls':\n      return 'audio/x-scpls'\n    case 'cue':\n      return 'application/x-cue'\n    case 'wma':\n      return 'audio/x-ms-wma'\n    case 'flac':\n      return 'audio/flac'\n    case 'aif':\n      return 'audio/x-aiff'\n    case 'aiff':\n      return 'audio/x-aiff'\n    case 'aifc':\n      return 'audio/x-aiff'\n    case 'au':\n      return 'audio/basic'\n    case 'snd':\n      return 'audio/basic'\n    case 'mid':\n      return 'audio/midi'\n    case 'midi':\n      return 'audio/midi'\n    case 'kar':\n      return 'audio/midi'\n    default:\n      return 'text/plain'\n  }\n}\nconst putNpmSource = async (cache, f) => {\n  const name = f.name.replace(/^package/, location.origin)\n  const ext = name.split('.').pop()\n  const url = name.replace(/index.html$/, \"\").replace(/.html$/, \"\")\n  const contentType = getContentType(ext)\n  cache.put(new Request(url), new Response(f.buffer, {\n    headers: {\n      \"Content-Type\": contentType\n    }\n  }));\n}\nimportScripts(\"/untgz.js\");\nconst getNpmTarball = async () => {\n  if (!status_npm_tarball) {\n    return\n  }\n  if (await db.read('status_npm_tarball') === \"true\") {\n    return\n  }\n  if (!tarball) {\n    return\n  }\n  if (await db.read('status_downloading_npm_tarball') === \"true\") {\n    return\n  }\n  await db.write('status_downloading_npm_tarball', \"true\")\n  logger.wait(\"Downloading NPM Source: \" + tarball);\n  const tgz = tarball.replace(\"https://registry.npmmirror.com/\", \"https://registry.npmjs.org/\")\n  const source = cors_anywhere + tgz\n  caches.open(CACHE_NAME + \"-npmtarball\").then(async (cache) => {\n    await FetchUntgz(source).then(async (fs) => {\n      for await (const f of fs) {\n        console.log(f);\n        await putNpmSource(cache, f)\n      }\n      await db.write('status_npm_mirror', \"false\")\n      await db.write('status_npm_tarball', \"true\")\n      await db.write('status_downloading_npm_tarball', \"false\")\n      logger.bg.ready(\"[CacheAlways] NPM Mirror Disabled!\")\n    })\n  }).catch(async (error) => {\n    await db.write('status_downloading_npm_tarball', \"false\")\n    logger.error('[Cache Npm Tarball Source] ' + (error.stack || error));\n  })\n}\n\n\n"]}