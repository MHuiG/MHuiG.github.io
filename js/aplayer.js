const e=(()=>{const e={},a={init:()=>{e.id=volantis.APlayerController.id,e.volume=volantis.APlayerController.volume},checkAPlayer:()=>{e.player===undefined?a.setAPlayerObject():e.observer===undefined&&a.setAPlayerObserver()},setAPlayerObject:()=>{let l=document.querySelectorAll(".footer meting-js")||[];0==l.length&&(l=document.querySelectorAll("meting-js")||[]),l.forEach(((t,r)=>{t.meta.id==e.id&&l[r].aplayer!=undefined&&(e.player=l[r].aplayer,a.setAPlayerObserver(),a.updateTitle())}))},setAPlayerObserver:()=>{try{e.player.on("play",(function(e){a.updateAPlayerControllerStatus(e)})),e.player.on("pause",(function(e){a.updateAPlayerControllerStatus(e)})),e.player.on("volumechange",(function(e){a.onUpdateAPlayerVolume(e)})),e.player.on("loadstart",(function(e){a.updateTitle(e)})),e.volumeBarWrap=document.getElementsByClassName("nav volume")[0].children[0],e.volumeBar=e.volumeBarWrap.children[0];const l=e=>{a.updateAPlayerVolume(e)},t=r=>{e.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",l),a.updateAPlayerVolume(r)};e.volumeBarWrap.addEventListener("mousedown",(a=>{a.stopPropagation(),e.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener("mousemove",l),document.addEventListener("mouseup",t)})),e.volumeBarWrap.addEventListener("click",(e=>{e.stopPropagation()})),a.updateAPlayerControllerStatus(),a.onUpdateAPlayerVolume(),e.observer=!0}catch(l){console.log(l),e.observer=undefined}},updateAPlayerVolume:a=>{let l=((a.clientX||a.changedTouches[0].clientX)-e.volumeBar.getBoundingClientRect().left)/e.volumeBar.clientWidth;l=Math.max(l,0),l=Math.min(l,1),e.player.volume(l)},onUpdateAPlayerVolume:()=>{try{e.volumeBar.children[0].style.width=100*e.player.audio.volume+"%"}catch(a){console.log(a)}},updateAPlayerControllerStatus:()=>{try{e.player.audio.paused?(volantis.APlayerController.status="pause",document.getElementsByClassName("nav toggle")[0].children[0].classList.add("fa-play"),document.getElementsByClassName("nav toggle")[0].children[0].classList.remove("fa-pause")):(volantis.APlayerController.status="play",document.getElementsByClassName("nav toggle")[0].children[0].classList.remove("fa-play"),document.getElementsByClassName("nav toggle")[0].children[0].classList.add("fa-pause"))}catch(a){console.log(a)}},aplayerToggle:()=>{a.checkAPlayer();try{e.player.toggle()}catch(l){console.log(l)}},aplayerBackward:()=>{a.checkAPlayer();try{e.player.skipBack(),e.player.play()}catch(l){console.log(l)}},aplayerForward:()=>{a.checkAPlayer();try{e.player.skipForward(),e.player.play()}catch(l){console.log(l)}},aplayerVolume:l=>{a.checkAPlayer();try{e.player.volume(l)}catch(t){console.log(t)}},updateTitle:()=>{a.checkAPlayer();try{const a=e.player.list.index,l=e.player.list.audios[a];document.getElementsByClassName("nav music-title")[0].innerHTML=l.title}catch(l){console.log(l)}}};return{init:()=>{a.init()},checkAPlayer:()=>{a.checkAPlayer()},aplayerBackward:()=>{a.aplayerBackward()},aplayerToggle:()=>{a.aplayerToggle()},aplayerForward:()=>{a.aplayerForward()}}})();Object.freeze(e),volantis.requestAnimationFrame((()=>{e.init(),e.checkAPlayer()}));