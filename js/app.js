var t=(t,o)=>{const e=o||25;let a;return function(){const o=arguments;a&&clearTimeout(a),a=setTimeout(()=>{a=null,t.apply(this,o)},e)}};!function(o){volantis.$.bodyAnchor=o("#safearea"),volantis.$.topBtn=o("#s-top"),volantis.$.wrapper=o("#wrapper"),volantis.$.coverAnchor=o("#l_cover .cover-wrapper"),volantis.$.switcher=o("#l_header .switcher .s-search"),volantis.$.header=o("#l_header"),volantis.$.search=o("#l_header .m_search"),volantis.$.mPhoneList=o("#l_header .m-phone .list-v");var e=80;function a(t,a=e){const n=t.href?o(decodeURI(t.getAttribute("href"))):o(t);window.scrollTo({top:n.offset().top-a,behavior:"smooth"})}function n(){volantis.$.topBtn.length&&volantis.$.bodyAnchor&&volantis.$.topBtn.click(t=>{t.preventDefault(),t.stopPropagation(),a(volantis.$.bodyAnchor),t.stopImmediatePropagation()});let n=document.body.scrollTop;o(document,window).scroll(t(()=>{const t=volantis.$.bodyAnchor.offset().top-e,a=o(window).scrollTop(),i=a-n;n=a,a>volantis.$.bodyAnchor.offset().top?(volantis.$.topBtn.addClass("show"),i>0?volantis.$.topBtn.removeClass("hl"):volantis.$.topBtn.addClass("hl")):volantis.$.topBtn.removeClass("show").removeClass("hl"),a-t>-1?volantis.$.header.addClass("show"):volantis.$.header.removeClass("show")}))}function i(){if(!pdata.ispage)return;volantis.$.wrapper.find(".nav-sub .title").html(pdata.postTitle);let e=document.body.scrollTop;o(document,window).scroll(t(()=>{const t=o(window).scrollTop(),a=t-e;a>=50&&t>100?(e=t,volantis.$.wrapper.addClass("sub")):a<=-50&&(e=t,volantis.$.wrapper.removeClass("sub"))})),volantis.$.comment=o("#s-comment"),volantis.$.commentTarget=o("#l_main article#comments"),volantis.$.commentTarget.length?volantis.$.comment.click(t=>{t.preventDefault(),t.stopPropagation(),a(volantis.$.commentTarget),t.stopImmediatePropagation()}):volantis.$.comment.remove(),volantis.isMobile&&(volantis.$.toc=o("#s-toc"),volantis.$.tocTarget=o("#l_side .toc-wrapper"),volantis.$.tocTarget.length&&volantis.$.tocTarget.children().length?(volantis.$.toc.click(t=>{t.stopPropagation(),volantis.$.tocTarget.toggleClass("active"),volantis.$.toc.toggleClass("active")}),o(document).click((function(t){t.stopPropagation(),volantis.$.tocTarget.removeClass("active"),volantis.$.toc.removeClass("active")})),o(document,window).scroll(t(()=>{volantis.$.tocTarget.removeClass("active"),volantis.$.toc.removeClass("active")},100))):volantis.$.toc.remove())}function s(){volantis.$.headerMenu=o(".navigation","#l_header,#l_cover,#l_side"),volantis.$.headerMenu.find("li a.active").removeClass("active"),volantis.$.headerMenu.find("div a.active").removeClass("active");var t=null,e=location.pathname.replace(/\/|%|\./g,"");0==e.length&&(e="home");var a=e.match(/page\d{0,}$/g);a&&(a=a[0],e=e.split(a)[0]);var n,i=e.match(/index.html/);i&&(i=i[0],e=e.split(i)[0]),(e=e.replace(/(\[|\]|~|#|@)/g,"\\$1"))&&volantis.$.headerMenu&&(t=o("#"+e,volantis.$.headerMenu),(n=t)&&n.length&&n.addClass("active").siblings().removeClass("active"))}function l(){volantis.isMobile?o("#l_header .m-phone li:has(.list-v)").click((function(t){t.stopPropagation(),o(o(t.currentTarget).children("ul")).show()})):o("#wrapper .m-pc li > a[href]").parent().click((function(t){t.stopPropagation(),t.target.origin==t.target.baseURI&&o("#wrapper .m-pc .list-v").hide()})),c()}function c(){volantis.isMobile&&(o(document).click((function(t){volantis.$.mPhoneList.hide()})),o(window).scroll(t(()=>{volantis.$.mPhoneList.hide()})))}function r(){volantis.isMobile&&0!==volantis.$.switcher.length&&(volantis.$.switcher.click((function(t){t.stopPropagation(),volantis.$.header.toggleClass("z_search-open"),volantis.$.switcher.toggleClass("active"),volantis.$.search.find("input").focus()})),o(document).click((function(t){volantis.$.header.removeClass("z_search-open"),volantis.$.switcher.removeClass("active")})),volantis.$.search.click((function(t){t.stopPropagation()})))}function v(){o("#l_main .tabs .nav-tabs").length&&o("#l_main .tabs .nav-tabs").on("click","a",t=>{t.preventDefault(),t.stopPropagation();const e=o(t.target.parentElement.parentElement.parentElement);return e.find(".nav-tabs .active").removeClass("active"),e.find(t.target.parentElement).addClass("active"),e.find(".tab-content .active").removeClass("active"),e.find(o(t.target).attr("class")).addClass("active"),!1})}if(volantis.$.header[0]&&(e=volantis.$.header[0].clientHeight+16),o((function(){document.documentElement.clientWidth<500?(volantis.isMobile=1,volantis.isMobileOld=1):(volantis.isMobile=0,volantis.isMobileOld=0),i(),s(),l(),r(),n(),v(),window.onresize=()=>{document.documentElement.clientWidth<500?volantis.isMobile=1:volantis.isMobile=0,volantis.isMobile!=volantis.isMobileOld&&(l(),i(),r())},o("#scroll-down").on("click",(function(){a(volantis.$.bodyAnchor)})),volantis.pjax.push(()=>{o((function(){o("#l_header .nav-main").find(".list-v").not(".menu-phone").removeAttr("style",""),o("#l_header .menu-phone.list-v").removeAttr("style",""),e=80,volantis.$.header[0]&&(e=volantis.$.header[0].clientHeight+16),i(),s(),c(),n(),v(),o("#scroll-down").on("click",(function(){a(volantis.$.bodyAnchor)})),0!==volantis.$.switcher.length&&o(document).click((function(t){volantis.$.header.removeClass("z_search-open"),volantis.$.switcher.removeClass("active")}))}))},"app.js")})),window.location.hash)var d=setInterval((function(){o("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).length&&(o("html, body").animate({scrollTop:o("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).offset().top-40},500),clearInterval(d))}),100)}(jQuery);