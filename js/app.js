var customSearch,checkExist;function isSupportWebp(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(e){return!1}}function LogoChange(){"undefined"!=typeof jQuery&&(isSupportWebp()||($("section.widget.blogger> div > a > img").attr("src","https://cdn.jsdelivr.net/gh/MHuiG/blog-cdn/assets/avatar/avatar-240.png"),$("#header-meta > div > div.new-meta-item.author > a > img").attr("src","https://cdn.jsdelivr.net/gh/MHuiG/blog-cdn/assets/avatar/avatar-16.png")))}!function(l){"use strict";var s=80,d=l(".l_header",".cover-wrapper");function u(e,t){var o=1<arguments.length&&void 0!==t?t:s,a=e.href?l(e.getAttribute("href")):l(e);l("html, body").animate({scrollTop:a.offset().top-o},500)}function e(){var t=l(".menu .active"),o=l(".s-top"),e=l("h1.title","#header-meta"),a=l(".l_body");t.length&&a&&t.click(function(e){e.preventDefault(),e.stopPropagation(),"/"!=t.attr("href")&&u(a),e.stopImmediatePropagation()}),e.length&&a&&e.click(function(e){e.preventDefault(),e.stopPropagation(),u(a),e.stopImmediatePropagation()}),o.length&&a&&o.click(function(e){e.preventDefault(),e.stopPropagation(),u(a),e.stopImmediatePropagation()});var n=l(".cover-wrapper"),i=l("#pjax-enable-cover").text(),c=0;n[0]&&"true"==i&&"none"!==l(".cover.half").css("display")&&(c=n[0].clientHeight-180);var r=document.body.scrollTop;"true"==i&&"none"===l(".cover.half").css("display")&&(r+=180),l(document,window).scroll(function(){var e=l(window).scrollTop();"true"==i&&"none"===l(".cover.half").css("display")&&(e+=180);var t=e-r;180<(r=e)?(o.addClass("show"),0<t?o.removeClass("hl"):o.addClass("hl")):o.removeClass("show").removeClass("hl"),c<e?d.addClass("show"):d.removeClass("show")})}function n(){var o,e,t,a,n;"true"==l.trim(l("#pjax-ispage").text())&&(window.subData={title:l.trim(l("#pjax-pageTitle").text()),tools:!0}),window.subData&&(o=l("header .wrapper"),e=l(".s-comment",o),t=l(".s-toc",o),e.show(),o.find(".nav-sub .title").text(window.subData.title),a=document.body.scrollTop,l(document,window).scroll(function(){var e=l(window).scrollTop(),t=e-a;50<=t&&100<e?(a=e,o.addClass("sub")):t<=-50&&(a=e,o.removeClass("sub"))}),l(".l_body .comments").length?e.click(function(e){e.preventDefault(),e.stopPropagation(),u(l(".l_body .comments")),e.stopImmediatePropagation()}):e.hide(),(n=l(".l_body .toc-wrapper")).length&&n.children().length?(t.click(function(e){e.stopPropagation(),n.toggleClass("active"),t.toggleClass("active")}),l(document).click(function(e){e.stopPropagation(),n.removeClass("active"),t.removeClass("active")}),l(document,window).scroll(function(){n.removeClass("active"),t.removeClass("active")})):t.remove())}function i(){var e=l("body .navigation");e.find("li a.active").removeClass("active");var t=null,o=location.pathname.replace(/\/|%|\./g,"");0==o.length&&(o="home");var a=o.match(/page\d{0,}$/g);a&&(a=a[0],o=o.split(a)[0]);var n,i=o.match(/index.html/);i&&(i=i[0],o=o.split(i)[0]),o&&e&&(t=l("#"+o,e),(n=t)&&n.length&&n.addClass("active").siblings().removeClass("active"))}function c(){var n,i,c,r,e,t,o=l(".toc-wrapper");0!==o.length&&(o.click(function(e){e.stopPropagation(),o.addClass("active")}),l(document).click(function(){return o.removeClass("active")}),o.on("click","a",function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName?u(e.target,0):"SPAN"===e.target.tagName&&u(e.target.parentElement,0),o.removeClass("active");var t=l(".s-toc");0<t.length&&t.removeClass("active")}),n=Array.from(o.find("li a")),c=(i=function(){return n.map(function(e){return Math.floor(l(e.getAttribute("href")).offset().top-s)})})(),r=l(document).height(),e=function(){var e=l("html").scrollTop()||l("body").scrollTop();if(l(document).height()!=r&&(e=l("html").scrollTop()||l("body").scrollTop(),r=l(document).height(),c=i()),c){for(var t=0,o=c.length-1,a=void 0;t<o;)c[a=t+o+1>>1]===e?t=o=a:c[a]<e?t=a:o=a-1;l(n).removeClass("active").eq(t).addClass("active")}},l(window).scroll(function(){e()}),t=null,l(window).bind("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){c=i(),e()},100)}),e())}function r(){var e=l(".tabs");if(0!==e.length){for(var t=e.find(".nav-tabs .tab"),o=0;o<t.length;o++){var a=e.find(t[o].children[0]);a.addClass(a.attr("href")),a.removeAttr("href")}l(".tabs .nav-tabs").on("click","a",function(e){e.preventDefault(),e.stopPropagation();var t=l(e.target.parentElement.parentElement.parentElement);return t.find(".nav-tabs .active").removeClass("active"),t.find(e.target.parentElement).addClass("active"),t.find(".tab-content .active").removeClass("active"),t.find(l(e.target).attr("class")).addClass("active"),!1})}}d[0]&&(s=d[0].clientHeight+16),l(function(){var t,o,a;n(),i(),t=l(".l_header .switcher .s-search"),o=l(".l_header"),a=l(".l_header .m_search"),0!==t.length&&(t.click(function(e){e.stopPropagation(),o.toggleClass("z_search-open"),t.toggleClass("active"),a.find("input").focus()}),l(document).click(function(e){o.removeClass("z_search-open"),t.removeClass("active")}),a.click(function(e){e.stopPropagation()}),o.ready(function(){o.bind("keydown",function(e){if(9==e.keyCode)return!1;var t,o=!!document.all,a=o?(t=window.event.keyCode,window.event):(t=e.which,e);9==t&&(o?(a.keyCode=0,a.returnValue=!1):(a.which=0,a.preventDefault()))})})),c(),e(),"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/img/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/img/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/img/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/img/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/img/"})),r(),l(".scroll-down").on("click",function(){u(".l_body")}),document.addEventListener("pjax:complete",function(){try{l(function(){s=80,(d=l(".l_header",".cover-wrapper"))[0]&&(s=d[0].clientHeight+16),n(),i(),c(),e(),r()})}catch(e){console.log(e)}})})}(jQuery),$("figcaption").click(function(){window.CodeBlockFullscreen?($("#post").removeClass("code-block-fullscreen"),$(this).parent().removeClass("code-block-fullscreen"),$(this).parent().removeClass("code-block-fullscreen-overflow-auto"),$("html").removeClass("code-block-fullscreen-html-scroll"),$(".highlight>table .gutter").removeClass("code-block-fullscreen-gutter"),window.CodeBlockFullscreen=!1):($("#post").addClass("code-block-fullscreen"),$(this).parent().addClass("code-block-fullscreen"),$(this).parent().addClass("code-block-fullscreen-overflow-auto"),$("html").addClass("code-block-fullscreen-html-scroll"),$(".highlight>table .gutter").addClass("code-block-fullscreen-gutter"),window.CodeBlockFullscreen=!0)}),setInterval("LogoChange()",1e3),window.location.hash&&(checkExist=setInterval(function(){"undefined"!=typeof jQuery&&$("#"+window.location.hash.split("#")[1]).length&&($("html, body").animate({scrollTop:$("#"+window.location.hash.split("#")[1]).offset().top-90},1e3),clearInterval(checkExist))},100));var titleTime,OriginTitle=document.title;document.addEventListener("visibilitychange",function(){document.hidden?($('[rel="shortcut icon"]').attr("href","https://cdn.jsdelivr.net/gh/MHuiG/blog-cdn@master/assets/favicon/Error.ico"),document.title="╭(°A°`)╮ 页面崩溃啦 ~",clearTimeout(titleTime)):($('[rel="shortcut icon"]').attr("href","https://cdn.jsdelivr.net/gh/MHuiG/blog-cdn@master/assets/favicon/favicon.ico"),document.title="(ฅ>ω<*ฅ) 噫又好了~"+OriginTitle,titleTime=setTimeout(function(){document.title=OriginTitle},2e3))}),setTimeout(function(){!function(){var e=document.createElement("script"),t=window.location.protocol.split(":")[0];e.src="https"===t?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",e.defer=!0;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}()},5e3),function(){var e=Math.random(),t=document.getElementsByTagName("script")[0],o=document.createElement("script");o.src="https://cdn.jsdelivr.net/gh/MHuiG/blog-cdn@1.5.0/js/ip.js?x="+e,o.type="text/javascript",o.defer=!0,t.parentNode.insertBefore(o,t)}();var MHuiG=window.console.log,fake=function(){MHuiG("%cWelcome to MHuiG's Blog"," text-shadow: 0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);font-size:5em")};function kill(){for(var e="",t=0;t<1e6;t++)e+=t.toString(),history.pushState(0,0,e)}window.console.log=fake,console.log(1),function(){var e=Math.random(),t=document.getElementsByTagName("script")[0],o=document.createElement("script");o.src="https://cdn.jsdelivr.net/gh/MHuiG/blog-cdn@1.3.8/js/bug.js?x="+e,o.type="text/javascript",o.defer=!0,t.parentNode.insertBefore(o,t)}(),setInterval(function(){for(var e=performance.now(),t=0;t<1e3;t++)MHuiG(t),console.clear();200<performance.now()-e&&(document.write(""),setTimeout("kill()",100))},500),div=document.createElement("div"),setInterval(function(){MHuiG(div),console.clear()}),Object.defineProperty(div,"id",{get:function(){document.write(""),setTimeout("kill()",100)}});