if(document.addEventListener("DOMContentLoaded",(function(){e.init(),e.subscribe(),t.loadFancyBox(),volantis.pjax.push(()=>{e.pjaxReload(),sessionStorage.setItem("domTitle",document.title)},"app.js"),volantis.pjax.send(()=>{volantis.dom.switcher.removeClass("active"),volantis.dom.header.removeClass("z_search-open"),volantis.dom.wrapper.removeClass("sub"),volantis.EventListener.remove()},"app.js"),volantis.pjax.push(t.pjaxReload),volantis.pjax.send(()=>{"undefined"!=typeof $.fancybox&&$.fancybox.close()},"fancybox")})),window.location.hash){let o=decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-"),e=document.getElementById(o);e&&window.scrollTo({top:e.offsetTop+volantis.dom.bodyAnchor.offsetTop+5,behavior:"smooth"})}const o=(o,e)=>{const t=e||50;let a;return function(){const e=arguments;a&&clearTimeout(a),a=setTimeout(()=>{a=null,o.apply(this,e)},t)}},e=(()=>{const e={};let t=80;function a(){var o;return window.pageYOffset?o=window.pageYOffset:document.compatMode&&"BackCompat"!=document.compatMode?o=document.documentElement.scrollTop:document.body&&(o=document.body.scrollTop),o}return e.init=()=>{volantis.dom.header&&(t=volantis.dom.header.clientHeight+16),window.onresize=()=>{document.documentElement.clientWidth<500?volantis.isMobile=1:volantis.isMobile=0,volantis.isMobile!=volantis.isMobileOld&&(e.setGlobalHeaderMenuEvent(),e.setHeader(),e.setHeaderSearch())}},e.event=()=>{volantis.dom.$(document.getElementById("scroll-down")).on("click",(function(){e.scrolltoElement(volantis.dom.bodyAnchor)}))},e.restData=()=>{t=volantis.dom.header?volantis.dom.header.clientHeight+16:80},e.setIsMobile=()=>{document.documentElement.clientWidth<500?(volantis.isMobile=1,volantis.isMobileOld=1):(volantis.isMobile=0,volantis.isMobileOld=0)},e.scrolltoElement=(o,e=t)=>{window.scrollTo({top:o.offsetTop-e,behavior:"smooth"})},e.setScrollAnchor=()=>{volantis.dom.topBtn&&volantis.dom.bodyAnchor&&volantis.dom.topBtn.click(o=>{o.preventDefault(),o.stopPropagation(),e.scrolltoElement(volantis.dom.bodyAnchor),o.stopImmediatePropagation()});let n=document.body.scrollTop;volantis.dom.$(document).scroll(o(()=>{const o=volantis.dom.bodyAnchor.offsetTop-t,e=a(),l=e-n;n=e,e>volantis.dom.bodyAnchor.offsetTop?(volantis.dom.topBtn.addClass("show"),l>0?volantis.dom.topBtn.removeClass("hl"):volantis.dom.topBtn.addClass("hl")):volantis.dom.topBtn.removeClass("show").removeClass("hl"),e-o>-1?volantis.dom.header.addClass("show"):volantis.dom.header.removeClass("show")}))},e.setHeader=()=>{if(!pdata.ispage)return;volantis.dom.wrapper.find(".nav-sub .title").html(pdata.postTitle);let t=document.body.scrollTop;volantis.dom.$(document).scroll(o(()=>{const o=a(),e=o-t;e>=50&&o>100?(t=o,volantis.dom.wrapper.addClass("sub")):e<=-50&&(t=o,volantis.dom.wrapper.removeClass("sub"))})),volantis.dom.comment=volantis.dom.$(document.getElementById("s-comment")),volantis.dom.commentTarget=volantis.dom.$(document.querySelector("#l_main article#comments")),volantis.dom.commentTarget?volantis.dom.comment.click(o=>{o.preventDefault(),o.stopPropagation(),e.scrolltoElement(volantis.dom.commentTarget),o.stopImmediatePropagation()}):volantis.dom.comment.remove(),volantis.isMobile&&(volantis.dom.toc=volantis.dom.$(document.getElementById("s-toc")),volantis.dom.tocTarget=volantis.dom.$(document.querySelector("#l_side .toc-wrapper")),volantis.dom.tocTarget?(volantis.dom.toc.click(o=>{o.stopPropagation(),volantis.dom.tocTarget.toggleClass("active"),volantis.dom.toc.toggleClass("active")}),volantis.dom.$(document).click((function(o){o.stopPropagation(),volantis.dom.tocTarget.removeClass("active"),volantis.dom.toc.removeClass("active")})),volantis.dom.$(document).scroll(o(()=>{volantis.dom.tocTarget.removeClass("active"),volantis.dom.toc.removeClass("active")},100))):volantis.dom.toc.remove())},e.setHeaderMenuSelection=()=>{volantis.dom.headerMenu=volantis.dom.$(document.querySelectorAll("#l_header .navigation,#l_cover .navigation,#l_side .navigation")),volantis.dom.headerMenu.forEach(o=>{let e=volantis.dom.$(o).find("li a.active");e&&e.removeClass("active");let t=volantis.dom.$(o).find("div a.active");t&&t.removeClass("active")});var o=location.pathname.replace(/\/|%|\./g,"");0==o.length&&(o="home");var e=o.match(/page\d{0,}$/g);e&&(e=e[0],o=o.split(e)[0]);var t=o.match(/index.html/);t&&(t=t[0],o=o.split(t)[0]),(o=o.replace(/(\[|\]|~|#|@)/g,"\\$1"))&&volantis.dom.headerMenu&&volantis.dom.headerMenu.forEach(e=>{let t=e.querySelector("#"+o);t&&volantis.dom.$(t).addClass("active")})},e.setGlobalHeaderMenuEvent=()=>{volantis.isMobile?document.querySelectorAll("#l_header .m-phone li").forEach((function(o){o.querySelector(".list-v")&&volantis.dom.$(o).click((function(o){o.stopPropagation();let e=o.currentTarget.children;for(let t=0;t<e.length;t++){const o=e[t];volantis.dom.$(o).show()}}),0)})):document.querySelectorAll("#wrapper .m-pc li > a[href]").forEach((function(o){volantis.dom.$(o.parentElement).click((function(o){o.stopPropagation(),o.target.origin==o.target.baseURI&&volantis.dom.$("#wrapper .m-pc .list-v").hide()}),0)})),e.setPageHeaderMenuEvent()},e.setPageHeaderMenuEvent=()=>{volantis.isMobile&&(volantis.dom.$(document).click((function(o){volantis.dom.mPhoneList.forEach((function(o){volantis.dom.$(o).hide()}))})),volantis.dom.$(document).scroll(o(()=>{volantis.dom.mPhoneList.forEach((function(o){volantis.dom.$(o).hide()}))})))},e.setHeaderSearch=()=>{volantis.isMobile&&volantis.dom.switcher&&(volantis.dom.switcher.click((function(o){o.stopPropagation(),volantis.dom.header.toggleClass("z_search-open"),volantis.dom.switcher.toggleClass("active")})),volantis.dom.$(document).click((function(o){volantis.dom.header.removeClass("z_search-open"),volantis.dom.switcher.removeClass("active")})),volantis.dom.search.click((function(o){o.stopPropagation()})))},e.setTabs=()=>{let o=document.querySelectorAll("#l_main .tabs .nav-tabs");o&&o.forEach((function(o){o.querySelectorAll("a").forEach((function(o){volantis.dom.$(o).on("click",o=>{o.preventDefault(),o.stopPropagation();const e=volantis.dom.$(o.target.parentElement.parentElement.parentElement);return e.find(".nav-tabs .active").removeClass("active"),volantis.dom.$(o.target.parentElement).addClass("active"),e.find(".tab-content .active").removeClass("active"),e.find($(o.target).attr("class")).addClass("active"),!1})}))}))},{init:()=>{e.init(),e.event()},subscribe:()=>{e.setIsMobile(),e.setHeader(),e.setHeaderMenuSelection(),e.setGlobalHeaderMenuEvent(),e.setHeaderSearch(),e.setScrollAnchor(),e.setTabs()},pjaxReload:()=>{e.event(),e.restData(),e.setHeader(),e.setHeaderMenuSelection(),e.setPageHeaderMenuEvent(),e.setScrollAnchor(),e.setTabs(),document.querySelector("#l_header .nav-main").querySelectorAll(".list-v:not(.menu-phone)").forEach((function(o){o.removeAttribute("style")})),document.querySelector("#l_header .menu-phone.list-v").removeAttribute("style"),volantis.dom.switcher&&volantis.dom.$(document).click((function(o){volantis.dom.header.removeClass("z_search-open"),volantis.dom.switcher.removeClass("active")}))}}})();Object.freeze(e);const t=(()=>{const o={initFB:()=>{const o=new Set;o.add("default"),document.querySelectorAll(".md .gallery").forEach((function(e){e.querySelector("img")&&o.add($(e).attr("data-group")||"default")}));for(const e of o)e&&$('[data-fancybox="'+e+'"]').fancybox({hash:!1,loop:!0,closeClick:!0,helpers:{overlay:{closeClick:!0}},buttons:["zoom","slideShow","fullScreen","download","thumbs","close"]})},loadFancyBox:()=>{document.querySelector(".md .gallery img")&&volantis["import"].jQuery().then(()=>{volantis.css("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"),volantis.js("https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js").then(o.initFB)})}};return{loadFancyBox:o.loadFancyBox,pjaxReload:()=>{"undefined"==typeof $.fancybox?o.loadFancyBox():o.initFB()}}})();Object.freeze(t);