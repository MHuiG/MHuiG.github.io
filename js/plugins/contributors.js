const t={requestAPI:(t,e,n)=>{let r=5;!function a(){return new Promise((o,s)=>{let i=0,l=setTimeout(()=>{0===i&&(i=2,l=null,s("请求超时"),0==r&&n())},5e3);fetch(t).then((function(t){if(2!==i&&(clearTimeout(l),o(t),l=null,i=1),t.ok)return t.json();throw new Error("Network response was not ok.")})).then((function(t){r=0,e(t)}))["catch"]((function(t){r>0?(r-=1,setTimeout(()=>{a()},5e3)):n()}))})}()},layout:e=>{const n=$(e.el)[0];t.requestAPI(e.api,(function(t){$(n).find(".loading-wrap").remove(),(t||[]).forEach((t,r)=>{var a='<div class="user-card">';a+='<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer"',a+=' href="'+t.html_url+'">',a+='<img src="'+(t.avatar_url||e.avatar)+'" onerror="javascript:this.src=\''+e.avatar+"';\">",a+='<div class="name"><span>'+t.login+"</span></div>",a+="</a>",a+="</div>",$(n).find(".group-body").append(a)})}),(function(){$(n).find(".loading-wrap svg").remove(),$(n).find(".loading-wrap p").text("加载失败，请稍后重试。")}))},start:()=>{const e=document.getElementsByClassName("contributorsjs-wrap");for(var n=0;n<e.length;n++){const a=e[n],o=a.getAttribute("api");if(null!=o){var r=new Object;r.el=a,r.api=o,r["class"]=a.getAttribute("class"),r.avatar="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/avatar/round/3442075.svg",t.layout(r)}}}};$((function(){t.start()})),document.addEventListener("pjax:complete",(function(){t.start()}));